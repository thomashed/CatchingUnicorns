<?xml version="1.0" encoding="utf-8"?>

<Engine Id="Engine" GameSpeed="10" DebugMode="false" AntiAliasing="false" CursorHotSpotAsset="{Mouse}" TrackingCode="UA-25584366-6" Domain="www.labster.com">

  <Time Id="EngineTime" TimeLapseMinutes="999999" TimeLapseMultiplier="1" />

  <Player Id="Player" FirstName="John" LastName="Doe" Email="" Xp="25" DefaultQuizMaxPoint="10" DefaultQuizMinPoint="2" DefaultQuizPointReduction="2" LabPadItemId="LabPad" />

  

  <!-- List all asset bundles that need to be loaded -->
  <Assets>
    <Asset AssetPath="Common/Hands" />
    <Asset AssetPath="Common/LabPack" />
    <Asset AssetPath="Common/SoundEffects" />
    <Asset AssetPath="Common/AssistantMecanim" />

    <!-- Atlasses -->
    <Asset AssetPath="GUI/Main" />
    <Asset AssetPath="GUI/Machines" />
    <Asset AssetPath="GUI/OpenSansRegular" />
    <Asset AssetPath="GUI/OpenSansRegularFront" />
    <Asset AssetPath="GUI/HUD" />

    <Asset AssetPath="Labs/BioKemi/kvucImages" />
  </Assets>

  <!-- Used to setup media animation. You usually don't need to change this -->
  <MediaCenter Id="MediaCenter" MediaList="MediaList" />

  <!-- Define audio clips to be used here -->
  <AudioCenter ExternalPath="AudioList" />

  <Images>
    <Image Id="DNAReplicationImage" Name="DNA Replication and PCR" URL="https://labsterim.s3.amazonaws.com/media/labimages/csihs/PCR_DNA_Replication.jpg" IsUnlocked="false" />
    <Image Id="PCRPrimer" Name="PCR Primer" URL="https://labsterim.s3.amazonaws.com/media/labimages/csihs/PCR_Primer.jpg" IsUnlocked="false" />
    <Image Id="STRAnalysis" Name="STR Analysis" URL="https://labsterim.s3.amazonaws.com/media/labimages/csihs/STR_Analysis.jpg" IsUnlocked="false" />
    <Image Id="GutsImage" Name="Guts" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/overview%20of%20human%20body%20%28guts%29.jpg" IsUnlocked="false" />
    <Image Id="LittleIntestineImage" Name="Little Intestine" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/overview%20of%20human%20body%20%28lil%20intestine%29.jpg" IsUnlocked="false" />
    <Image Id="MouthImage" Name="Mouth" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/overview%20of%20human%20body%20%28mouth%29.jpg" IsUnlocked="false" />
    <Image Id="StomachImage" Name="StomachImage" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/overview%20of%20human%20body%20%28stomach%29.jpg" IsUnlocked="false" />
    <Image Id="SickleCellAnemiaRisk" Name="Sickle Cell Anemia Risk" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/sickle%20cell%20anemia%20risk%20edit.jpg" IsUnlocked="false" />
    <Image Id="GuineaPig" Name="Guinea Pig" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/the%20giny%20pig.jpg" IsUnlocked="false" />
    <Image Id="DiabetesQuiz" Name="Diabetes Quiz" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/diabetes%20quiz.jpg" IsUnlocked="false" />
    <Image Id="DifferenceGraph" Name="Difference Graph" URL="https://labsterim.s3.amazonaws.com/media/labimages/biokemi/difference%20graph.jpg" IsUnlocked="false" />
  </Images>

  <!-- Used to define GUI interfaces to be used -->
  <GUI>
    <!-- GUIExternal import external XML file to be used as GUI -->
    <GUIExternal Type="GUIPanel" XmlPath="GUI_Navigation" />
    <GUIExternal Type="GUIDialogue" XmlPath="GUI_ConversationOVRTransparant" />
    <GUIExternal Type="GUIDialogue" XmlPath="GUI_PopupTitle" />
    <GUIExternal Type="GUIDialogue" XmlPath="GUI_Subtitle" />
    <GUIExternal Type="GUIDialogue" XmlPath="GUI_Subtitle_Simple" />
    <GUIExternal Type="GUIDialogue" XmlPath="GUI_Notification" />
    <GUIExternal Type="GUIPanel" XmlPath="GUI_PopupSave" />
    <GUIExternal Type="GUITooltip" XmlPath="GUI_Tooltip" />
    <GUIExternal Type="GUIPanel" XmlPath="GUI_PopupSfx" />
    <GUIExternal Type="GUIScreen" XmlPath="GUI_LabPadScreen" />
    <GUIExternal Type="GUIPopup" XmlPath="GUI_WikiScreen" />
    <GUIExternal Type="GUIPanel" XmlPath="GUI_FullScreenImage" />

    <GUITooltip3D Id="Tooltip1" AtlasPath="HUD" Align="Top" Offset="0,0.05" FontPath="OpenSansRegularFront">
      <Label Name="Tooltip" Depth="1" Align="Bottom" ImageSource="Tooltip" TileMode="Sliced" Position="0,-10" Size="370,65" Color="255,255,255,255" Text="{Binding Tooltip}" TextSize="18" ComparisonVisibility="{Binding Tooltip, Converter=Invert}" ComparisonValue="" AutoResizeWithLabel="true" AutoResizeOffset="50,40" />
      <Label Name="ExtendedTooltip" Depth="0" Align="Top" ImageSource="Tooltip" TileMode="Sliced" Position="0,10" Size="270,65" Color="255,255,127,255" Text="{Binding ExtendedTooltip}" TextSize="14" ComparisonVisibility="{Binding ExtendedTooltip, Converter=Invert}" ComparisonValue="" AutoResizeWithLabel="true" AutoResizeOffset="50,35" />
    </GUITooltip3D>

    
  </GUI>

  <!-- Used to list all items to be created during gameplay -->
  <Items>
    <Element Id="LabPad" SourceId="LabPad" IsClickable="true" IsPickUpAllowed="false">
      <Triggers>
        <EventTrigger Event="Click">
          <Conditions>
            <TaskCompleted Target="Task_SelectCorrectAmountAllType" />
            <TaskNotCompleted Target="Task_CompleteDiabetesMission" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="LabAstPCScreen1" />
          </Actions>
        </EventTrigger>
      
        <EventTrigger Event="Click">
          <Conditions>
            <TaskCompleted Target="Task_EgelAnimationFinished" />
            <TaskNotCompleted Target="Task_FinalQuizFinished" />
          </Conditions>
          <Actions>
            <!-- Final Quiz -->
            <EndConversation Target="EventConversation" />
            <StartConversation Target="Conversation_LabPad" ConversationId="100" />
          </Actions>
        </EventTrigger>

        <EventTrigger Event="Click">
          <Conditions>
            <TaskCompleted Target="Task_PreCheckBloodResult" />
            <TaskNotCompleted Target="Task_RevealBloodResult" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="RevealBloodResult" />
            <Wait Duration="0.5" />
            <RunScript ScriptId="CheckBloodResult" />
          </Actions>
        </EventTrigger>
        
        <EventTrigger Event="Click">
          <Conditions>
            <TaskCompleted Target="Task_RevealBloodResult" />
            <TaskNotCompleted Target="Task_CheckBloodResult" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="Conv_BloodTypeQuiz" />
          </Actions>
        </EventTrigger>
      </Triggers>

      <Screens>
        <Screen GameObjectId="Screen" GUIScreenId="GUI_LabPadScreen" />
      </Screens>
    </Element>

    <Container Id="Pipette" Title="Pipette" GameObjectId="Pipette" MaxAmount="1" Tooltip="Pipette" ExtendedTooltip="With a pipette it is possible to transfer a precise volume of liquid from one container to another Ð remember to use clean pipette tips!">
      <Triggers>
        <!--  Put on Pipette Tip -->
        <EventTrigger Event="Drop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="ItemId" Value="PipetteBox" />
            <DataCondition Property="ActiveStates" Comparison="Contains" Value="NoTip" />
          </Conditions>
          <Actions>
            <AnimateHandTo Target="{Binding RelativeSource=DropTarget}" />
            <PlaySound SoundId="PickUp" />
            <AnimateHandTo Target="{Binding RelativeSource=DropTarget}" IsReverse="true" />
            <GotoState StateId="HasTip" />
          </Actions>
        </EventTrigger>
        <EventTrigger Event="PreviewDrop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="ItemId" Value="PipetteBox" />
            <DataCondition Property="ActiveStates" Comparison="Contains" Value="HasTip" />
          </Conditions>
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="You have already collected a tip." />
            <CancelEvent />
          </Actions>

        </EventTrigger>

        <!--  Trash Pipette Tip  -->
        <!--<EventTrigger Event="Drop">
          <Conditions Match="Any">
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="TrashbinFlattop1"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="TrashbinFlattop2"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="TrashbinFlattop3"/>
          </Conditions>
          <Actions>
            <GotoState StateId="NoTip"/>
            <PlaySound SoundId="Trash"/>
          </Actions>
        </EventTrigger>-->
        
        <EventTrigger Event="Drop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="PlaceholderBehaviour" Value="Trash" />
            <DataCondition Property="ActiveStates" Comparison="Contains" Value="HasTip" />
          </Conditions>
          <Actions>
            <AnimateHandTo Target="{Binding RelativeSource=DropTarget}" />
            <GotoState StateId="NoTip" />
            <PlaySound SoundId="Trash" />
            <AnimateHandTo Target="{Binding RelativeSource=DropTarget}" IsReverse="true" />
          </Actions>
        </EventTrigger>



        <!--  Keep track of Pipette Contamination  -->
        <EventTrigger Event="PreviewDrop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Type" Value="Container" />
            <DataCondition Target="{Binding Contents}" Property="Amount" Value="0" />
            <DataCondition Property="ActiveStates" Comparison="Contains" Value="TipUsed" />
          </Conditions>
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="You have already used the tip. You must always use a clean tip. \nContamination can ruin the experiment" />
            <CancelEvent />
          </Actions>
        </EventTrigger>
        <EventTrigger Event="Drop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Type" Value="Container" />
          </Conditions>
          <Actions>
            <GotoState StateId="TipUsed" />
          </Actions>
        </EventTrigger>

        <!--  Make sure user puts on a pipette tip  -->
        <EventTrigger Event="PreviewDrop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Type" Value="Container" />
            <DataCondition Property="ActiveStates" Comparison="Contains" Value="NoTip" />
          </Conditions>
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="You need a pipette tip, before you can collect the fluid. \n\nYou risk ruining the pipette, if you donÕt use a tip." />
            <Setter Target="Task_UsePipetteWithOutTip" Property="Amount" Value="1" />
            <CancelEvent />
          </Actions>
        </EventTrigger>

        <!--  Prevent user from picking up acid/base using pipette  -->
        <EventTrigger Event="PreviewDrop">
          <Conditions Match="Any">
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="ItemId" Value="Flask" />
          </Conditions>
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="You cannot collect acids/bases with a pipette." />
            <CancelEvent />
          </Actions>
        </EventTrigger>
        
      </Triggers>

      <StateGroups>
        <StateGroup>
          <States>
            <State Id="TipClean" />
            <State Id="TipUsed" />
          </States>
        </StateGroup>
        <StateGroup TransitionDuration="0">
          <States>
            <State Id="NoTip" AnimationId="PipetteTip" IsDefault="true">
              <Triggers>
                <Trigger>
                  <Actions>
                    <Wait Duration="0" />
                    <GotoState StateId="TipClean" />
                    <ModifyContent Mode="Clear" />
                  </Actions>
                </Trigger>
              </Triggers>
            </State>
            <State Id="HasTip" AnimationId="PipetteTip" IsReverse="true" />
          </States>
        </StateGroup>
      </StateGroups>
    </Container>

    <Container Id="Beaker" Title="Beaker" GameObjectId="beaker_w_liquid" MaxAmount="16000" MaxContentType="3" AcceptContentsPickup="false">
      <Triggers>
        <EventTrigger Event="PreviewDrop">
          <Conditions>
            <DataCondition Target="{Binding CurrentElement.Contents, RelativeSource=RightHand}" Property="CurrentContentTypes" Comparison="Contains" Value="Water" />
          </Conditions>
          <Actions>
            <!-- The beaker already contains water -->
            <CancelEvent />
          </Actions>
        </EventTrigger>
      </Triggers>
      <Contents>
        <Content Type="Water" Amount="8000" />
      </Contents>
    </Container>

    <Element Id="Vacutainer" Title="Vacutainer" GameObjectId="Vacutainers" Tooltip="Blood test tubes" />

    <Container Id="EldonStickItem" Title="EldonStick" GameObjectId="EldonStick" MaxAmount="1" Tooltip="Eldonstick">
      <Triggers>
        <EventTrigger Event="PreviewDrop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Type" Value="Container" />
            <DataCondition Target="{Binding CurrentElement.Contents, RelativeSource=RightHand}" Property="Amount" Value="0" />
            <DataCondition Property="ActiveStates" Comparison="Contains" Value="StickUsed" />
          </Conditions>
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="You need a new Eldon stick for the next test. \nThrow away the used one in the trash bin." />
            <CancelEvent />
          </Actions>
        </EventTrigger>
        <EventTrigger Event="PreviewDrop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="CurrentContentTypes" Comparison="NotContains" Value="RedBlood" />
          </Conditions>
          <Actions>
            <CancelEvent />
          </Actions>
        </EventTrigger>
        <!--<EventTrigger Event="PreviewDrop">
          <Conditions Match="Any">
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="AntiA"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="AntiB"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="AntiD"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="Control"/>
          </Conditions>
      <Actions>
        <CancelEvent />
      </Actions>
    </EventTrigger>-->
        <EventTrigger Event="Drop">
          <Conditions>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Type" Value="Container" />
          </Conditions>
          <Actions>
            <GotoState StateId="StickUsed" />
          </Actions>
        </EventTrigger>
      </Triggers>

      <StateGroups>
        <StateGroup Id="UsedStatus">
          <States>
            <State Id="StickClean" IsDefault="true" />
            <State Id="StickUsed" />
          </States>
        </StateGroup>
      </StateGroups>
    </Container>

    <Element Id="EthanolBottle" Title="Bottle" GameObjectId="EthanolBottle" Tooltip="Flaske med ethanol">
      <Click>
        <Setter Property="IsEmphasized" Value="false" />
      </Click>
    </Element>

    <Container Id="TestTube" Title="TestTube" GameObjectId="TestTube" MaxAmount="100" Tooltip="Falcon rør" />

    <Container Id="TestTubeWithBlood" Title="TestTube" ItemId="TestTube" GameObjectId="TestTube" MaxAmount="100" AllowTrashing="false">
      <Triggers>
        <EventTrigger Event="PreviewDrop">
          <!--<Conditions Match="Any">
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="AntiA"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="AntiB"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="AntiD"/>
            <DataCondition Target="{Binding RelativeSource=DropTarget}" Property="Id" Value="Control"/>
          </Conditions>-->
          <Actions>
            <StartConversation ConversationSentence="You need to use the Eldon stick to transfer the blood test" />
            <CancelEvent />
          </Actions>
        </EventTrigger>
      </Triggers>
      <Contents>
        <Content Type="RedBlood" Amount="50" />
      </Contents>
    </Container>

    <Container Id="PCRTube" Title="PCRTube" GameObjectId="PCRTube" MaxAmount="100" Tooltip="PCR rør">
      
    </Container>

    
    <Container Id="TestTubeWithDNASample" Title="TestTube" GameObjectId="TestTube" MaxAmount="1000" ItemId="TestTube" AcceptContentsTransfer="false">
      <Triggers>
        <EventTrigger Event="PreviewDrop">
          <Actions>
            <CancelEvent />
          </Actions>
        </EventTrigger>
      </Triggers>
      <Contents>
        <Content Type="DNASample" Amount="900" />
      </Contents>
    </Container>

  </Items>

  <!-- Define container contents (usually liquids) in here. -->
  <ContentTypes>
    <ContentType Id="ProgressLiquid" Title="Point measurer" Color="Green" Opacity="50" />
    <ContentType Id="Water" Title="Water" Color="31,39,49" Opacity="50" />
    <ContentType Id="Hypertonic" Title="Hypertonic solution" Color="128,128,128" Opacity="50" />
    <ContentType Id="Hypotonic" Title="Hypotonic solution" Color="128,128,128" Opacity="50" />
    <ContentType Id="RedBlood" Title="red blood cells" Color="154,0,0" Opacity="100" />

    <ContentType Id="Nucleotides" Title="Nucleotides" Color="White" Opacity="50" />
    <ContentType Id="Primers" Title="Primers" Color="White" Opacity="50" />
    <ContentType Id="Polymerase" Title="Polymerase" Color="White" Opacity="50" />

    <ContentType Id="DNASample" Title="DNA sampe" Color="White" Opacity="50" />
    <ContentType Id="PCRProductSick" Title="Sick sample" Color="White" Opacity="50" />
    <ContentType Id="PCRProductCarrier" Title="Carrier sample" Color="White" Opacity="50" />
    <ContentType Id="PCRProductHealthy" Title="Healthy sample" Color="White" Opacity="50" />
    <ContentType Id="PCRProductChild" Title="ChildÕs PCR sample" Color="White" Opacity="50" />
    <ContentType Id="PCRProductMother" Title="MotherÕs PCR sample" Color="White" Opacity="50" />
    <ContentType Id="PCRProductFather" Title="FatherÕs PCR sample" Color="White" Opacity="50" />
    <ContentType Id="PCRRestrictionEnzyme" Title="Restriction enzyme" Color="White" Opacity="50" />

    <ContentType Id="Blood_glucose" Title="Blood Glucose" Color="Red" Opacity="100" />
    <ContentType Id="Insulin" Title="Insulin" Color="Red" Opacity="100" />
    <ContentType Id="Incretine" Title="Incretine" Color="Red" Opacity="100" />
    <ContentType Id="FoodContent" Title="FoodContent" Color="Red" Opacity="100" />
    <ContentType Id="FoodContentDummy" Title="FoodContent" Color="Red" Opacity="100" Simulation="Glycemic_Index" />
  </ContentTypes>

  <!-- Define all custom variables in here -->
  <Attributes>
    <Attribute Id="StartAcidBase" Amount="1" />
    <Attribute Id="CheckNewBeaker" Amount="0" />
    <Attribute Id="FinishWorkbench1" Amount="0" />
    <Attribute Id="FinishWorkbench2" Amount="0" />
    <Attribute Id="FinishWorkbench3" Amount="0" />
    <Attribute Id="FinishWorkbench4" Amount="0" />
    <Attribute Id="ClickAssistant1" Amount="0" />
    <Attribute Id="ClickStrongAcid" Amount="1" />
    <Attribute Id="ClickWeakAcid" Amount="1" />
    <Attribute Id="ClickStrongBase" Amount="1" />
    <Attribute Id="ClickWeakBase" Amount="1" />
    <Attribute Id="ClickHypertonic" Amount="0" />
    <Attribute Id="ClickHypotonic" Amount="0" />
    <Attribute Id="ChooseSolution" Value="0" />
    <Attribute Id="FlashTrashBinAndBeaker_Running" Amount="0" />
    <Attribute Id="MicroscopePlateClicked" Value="0" />
    <Attribute Id="RedBloodState" Amount="1" />
    <!-- 0 = shrink, 1 = normal, 2 = expand, 3 = explode -->
    <Attribute Id="PrevRedBloodState" Amount="1" />
    <Attribute Id="Randomizer" />
    <Attribute Id="BloodTypeResult" />
    <Attribute Id="Task_UsePipetteWithOutTip" Amount="0" />
    <Attribute Id="Task_ClickBottleWithoutPipette" Amount="0" />
  </Attributes>

  <!-- List all conversations and quizzes in here -->
  <Conversations>
    <!--WORKBENCH 1-->
    <Conversation Id="WelcomeToLabster" NextConvId="WelcomeToLabster_2" ReadMoreUrl="http://learn.labster.com/index.php/Bio-Kemi" Sentence="You can here perform four different experiments: at workbench 1, you perform PCR and gel electrophoresis to investigate a DNA sample for the sickle cell mutation. At workbench 2, you investigate the effect of different food substances on the blood sugar concentration. At workbench 3, you will work with diffusion and osmosis. At workbench 4, you must determine a blood type. \n\nYou can decide freely which experiment to begin first, but if you wish to repeat an experiment, you must restart the entire laboratory.">
    </Conversation>

    <Conversation Id="WelcomeToLabster_2" ReadMoreUrl="http://learn.labster.com/index.php/Bio-Kemi" Sentence="You can press the checklist icon to see the important assignments throughout the mission. You progress will be shown in the checklist, while you proceed with the experiments. The green bar at the left corner will also show your progress. \n\nYou can choose which experiment to begin first. Click one of the workbenches to start your first experiment. \n\nYou can read more about different parts of the theory in LabsterÕs wiki-page by pressing  &quot;View Theory&quot;.">
      <Triggers>
        <Trigger>
          <Actions>
            <!--<Setter Target="Workbench1_PCR"       Property="IsEmphasized" Value="true" />
            <Setter Target="Workbench2_BloodSugar"    Property="IsEmphasized" Value="true" />
            <Setter Target="Workbench3_DiffusionOsmosis"  Property="IsEmphasized" Value="true" />-->
            <Setter Target="Workbench4_BloodType" Property="IsEmphasized" Value="true" />
            <StartConversation ConversationSentence="Click one of the workbenches to start your first experiment." />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>

    <Conversation Id="AstStartAnyWorkbench" Sentence="Click one of the workbenches to start your first experiment." />
    <Conversation Id="AstFinishAnyWorkbench" Sentence="You can continue with one of the other experiments, if you want. Press the &quot;BACK&quot; button and choose a different workbench to begin another experiment. You need to know that if you wish to repeat this experiment, you have to go back to the Dashboard, where you chose this laboratory, and press &quot;PLAY&quot; to restart the entire laboratory." />



    

    <!--<Quiz Id="Quiz_NoPipetteOnContainers"
      NoScore="true"
      Sentence="In the laboratory, I transfer liquid by ...."
      ReadMoreUrl="http://learn.labster.com/index.php/PCR_(Polymerase_chain_reaction)_Bio-Kemi"
      CorrectMessage="This is correct! A pipette is the best tool to precisely transfer small amounts of liquid, in the laboratory."
      WrongMessage="No, this is not correct Ð try again!"
      >
      <Options>
        <Option Sentence="Using a pipette" IsCorrectAnswer="true" />
        <Option Sentence="Pouring from the flask" />
        <Option Sentence="Using a measuring cup" />
        <Option Sentence="Measuring with your hands" />
      </Options>
    </Quiz>
    <Quiz Id="Quiz_UsePipetteWithNoTip"
      NoScore="true"
      Sentence="Before you use a pipette for liquid transfer, itÕs important to ...."
      ReadMoreUrl="http://learn.labster.com/index.php/PCR_(Polymerase_chain_reaction)_Bio-Kemi"
      CorrectMessage="Correct! \n\nA new sterile pipette tip must be used to transfer liquids. If you do not change pipette tips, the experiment and the pipette can be ruined."
      WrongMessage="No, this is not correct Ð try again!"
      >
      <Options>
        <Option Sentence="Use a steril pipette tip" IsCorrectAnswer="true" />
        <Option Sentence="Use a used pipette tip" />
        <Option Sentence="Shake the pipette" />
        <Option Sentence="Polate the pipette" />
      </Options>
    </Quiz>-->

    <Conversation Id="AstPutDNASampleToRack" Sentence="Place the DNA sample in the Falcon tube stand." />

    <Conversation Id="AstPCRKit" Sentence="Start by taking a PCR tube from the PCR kit, so that you can mix your reagents. Press the PCR kit.">
    </Conversation>

    <Conversation Id="AstPlasticBag" Sentence="Click on the PCR plastic bag (the pink one) in the PCR kit to take a PCR tube and place it afterwards on the tray.">
    </Conversation>

    <Conversation Id="AstMixPCR" Sentence="Mix DNA polymerase, Nucleotides, Primers and the DNA sample in the PCR tube." />

    <Conversation Id="AstTakeOutPCRTube" Sentence="Take the PCR tube out of the PCR machine and place it on the tray." />
    <Conversation Id="AstClickGelLoad5Tubes" Sentence="Use the pipette to transfer the PCR product to the electrophoresis gel." />

    <Conversation Id="AstPutDNASample" Sentence="Place the DNA-test in the stand" />
    <Conversation Id="AstStartEgel" Sentence="Click on &quot;START&quot; to begin the electrophoresis." />
    <Conversation Id="AstTubeReady" Sentence="Splendid! Place the PCR tube in the PCR machine to begin the reaction." />

    

    <!--/WORKBENCH 1-->

    <Conversation Id="Assist001" Sentence="Click on Workbench 1 to learn more about acids and bases." />
    <Conversation Id="Assist002" Sentence="Click on the falsk and afterwards on the cup to mix the content." />
    <Conversation Id="Assist003" Sentence="I have prepared the cup, containing weak base. Add strong acid and use the button to adjust the pH to 7,4. You can add Bromothymol Blue, if you want." />
    <Conversation Id="Assist004" Sentence="Take a Petri dish and place it under the microscope." />
    <Conversation Id="Assist005" Sentence="Take the ethanol-flask from the equipment space and click on the patient to disinfect his arm." />
    <Conversation Id="Assist006" Sentence="Use the Eldon stick to add a drop of blood to all four areas of the EldonCard." />
    <Conversation Id="Assist007" Sentence="Go to Workbench 4 and perform the blood type determination." />
    <Conversation Id="Assist008" Sentence="Take the blood test glass and click on the patientÕs arm to take his blood sample." />
    <Conversation Id="Assist009" Sentence="Go back to the laboratory by clicling on the laboratory icon." />
    <Conversation Id="Assist010" Sentence="Go to Workbench 4." />
    <Conversation Id="Assist011" Sentence="Choose the solution, you wish to add." />

    
    <Conversation Id="Mission4a" Sentence="Welcome to table 4. Here you will learn more about blood type determinations. There is a patient at the local hospital, who needs our help. \n\nLet us go to the hospital and visit him!" ReadMoreUrl="http://learn.labster.com/index.php/Blodtype">
      <Triggers>
        <Trigger>
          <Actions>
            <ShowScene SceneId="HospitalAccident" />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>
    <Conversation Id="Hospital_1" Sentence="Our patient has been operated and has lost a lot of blood. He is in dire need of a blood transfusion, but we donÕt know his blood type. It can be life-threatening to give false information about a patientÕs blood type! \n\nCan you help os determine the patientÕs blood type?" ReadMoreUrl="http://learn.labster.com/index.php/Blodtype">
      <Triggers>
        <Trigger>
          <Actions>
            <StartConversation ConversationSentence="Take the ethanol-flask from the equipment space and click on the patient to disinfect his arm." />
            <CreateItem Target="{Binding RelativeSource=RightHand}" ItemId="EthanolBottle" NewId="EthanolBottle1" />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>
    <Conversation Id="Mission4b" NextConvId="Mission4c" Sentence="Let os determine the patientÕs blood type. \n\nThe blood type determination is based on the presence or absence of antigens on the surface of the red blood cells. There are two main systems of classification of blood types: The ABO-system and The Rhesus-system. The ABO-system tests for two antigens, A and B. The Rhesus-system tests for 5 antigens, but in most cases, there is only testet for anigen D. \n\nPeople with blood type A have antigen A and people with blood type B have antigen B, while people with bloodtype O have neither A nor B antigens on their red blood cells. A person, who has antigen D, is called Rhesus-positive, so a person with both B and D anitgens will be blood type B Rhesus positive (B Rh+)." ReadMoreUrl="http://learn.labster.com/index.php/Blodtype" />

    <Conversation Id="Mission4c" Sentence="Great attention must be paid to blood types, when giving patients blood transfusions. If a person received blood with the wrong blood type, the blood will agglutinate. This means that the red blood cells lump together, which can be fatal for the receiver. \n\nA person with blood type A creates antibodies for antigen B and vice versa. So if a person with blood type B donates blood to a person with blood type A, agglutination will occur, because the recieverÕs body creates antibodies against the B antigen, which is on the donatorÕs red blood cells. The blood will lump together, when the recipientÕs antibodies meet the antigens on the donors red blood cells. \n\nRemember the two different terms: [33FF33]Antigen[-] og [33FF33]Antibody[-]. They are not the same!" ReadMoreUrl="http://learn.labster.com/index.php/Blodtype">
      <Triggers>
        <Trigger>
          <Actions>
            <StartQuizBlock Target="QuizBlock_BloodTyping1" />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>
    <!--<Quiz Id="Quiz_BloodTyping1"
          Sentence="Which blood type will a person with only antigen A on their red blood cells have?"
          CorrectMessage="That is correct! When a person has antigen A  on their red blood cells, they have the A blood type."
          WrongMessage="No, this is not correct. \n\nYou can try again or press the &quot;View Theory&quot; button to finde the right answer."
          NextConvId="Quiz_BloodTyping2"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
    >
      <Options>
        <Option Sentence="A." IsCorrectAnswer="true"/>
        <Option Sentence="B."/>
        <Option Sentence="O."/>
        <Option Sentence="AB."/>
      </Options>
    </Quiz>
    <Quiz Id="Quiz_BloodTyping2"
          Sentence="Which blood type does a person, who has neither antigen A nor B on their red blood cells and is positive for antigen D, have?"
          CorrectMessage="That is correct! When a person has neither A, nor B antigens on their red blood cells, they have the blood type O. The person being positive for antigen D on their red blood cells means that the person is Rh+. The blood type is then O Rh+."
          WrongMessage="No, this is not correct. \n\nYou can try again or press the &quot;View Theory&quot; button to finde the right answer."
          NextConvId="Quiz_BloodTyping3"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
    >
      <Options>
        <Option Sentence="O Rh+." IsCorrectAnswer="true"/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="O Rh-."/>
        <Option Sentence="AB Rh-."/>
      </Options>
    </Quiz>
    <Quiz Id="Quiz_BloodTyping3"
          Sentence="Which antibodies does a person with the blood type O create?"
          CorrectMessage="Good job! \n\nPeople with the O blood type create antibodies against both antigen A and B. This is why people with the O blood type cannot receive blood from people with blood types A, B or AB. People with blood type O, however, can donate blood to anyone, because their red blood cells donÕt have antigen A or B on the surface."
          WrongMessage="No, this is not correct. \n\nYou can try again or press the &quot;View Theory&quot; button to finde the right answer."
          NextConvId="Quiz_BloodTyping4"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
    >
      <Options>
        <Option Sentence="Antibodies against both antigen A and B." IsCorrectAnswer="true"/>
        <Option Sentence="Antibodies against antigen O."/>
        <Option Sentence="Antibodies against antigen AB."/>
        <Option Sentence="Neither antibodies against antigen A not B."/>
      </Options>
    </Quiz>
    <Quiz Id="Quiz_BloodTyping4"
          Sentence="From which bloodtypes can a person with the blood type AB Rh+ receive blood?"
          CorrectMessage="Super! Ab Rh+ is a universal recipient. People with this blood type can receive all blood types, because they do not create antibodies against antigen A or B. They can also receive both Rh- and Rh+ blood, beucase they do not create antibodies against antigen D."
          WrongMessage="No, this is not correct. \n\nYou can try again or press the &quot;View Theory&quot; button to finde the right answer."
          NextConvId="Mission4d"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
    >
      <Options>
        <Option Sentence="All blood types." IsCorrectAnswer="true"/>
        <Option Sentence="A Rh+ and A Rh-."/>
        <Option Sentence="B Rh+ and B Rh-."/>
        <Option Sentence="AB Rh+ and Ab Rh-."/>
      </Options>
    </Quiz>-->
    <Conversation Id="Mission4d" NextConvId="Mission4d2" Sentence="Good job! You are now well versed in the theory about blood types. Now we are to begin blood type testing and determine the blood type of our patient. \n\nBlood types can be determined with a EldonCard. The cards are based on antibodies, which are stuck to the card and will agglutinate upon contact with the corresponding antigen in the blood. This is seen af the creation of small clumps of blood. Each circle on the card contains antibodies against a specific antigen. The test is begun by adding a drop of water on each circle to activate the antigens. When the blood test is mixed around in the areas on the card and small clumps are made, this means that the blood contains the specific antigen. If agglutination is seen in the area ‘Anti-A', the person has blood type A, etc. This is a way to determine blood types.." ReadMoreUrl="http://learn.labster.com/index.php/Blodtype" />
    <Conversation Id="Mission4d2" Sentence="There is an EldonCard on the table. I have already added water to the EldonCard. Use the Eldon stick to add one drop of blood to all four areas of the card. Determine, based on agglutination, the blood type of the patient." ReadMoreUrl="http://learn.labster.com/index.php/Blodtype">
      <Triggers>
        <Trigger>
          <Actions>
            <!--<CreateItem ItemId="Image_AcidBase" NewId="Image_AcidBase" Target="{Screen}"/>-->
            <!--<Setter Target="Image_AcidBase" Property="IsVisible" Value="false"/>-->
            <StartConversation ConversationSentence="Go to Workbench 4 and perform the blood type determination." />
            <Wait Duration="0" />
            <Setter Target="Workbench4_BloodType" Property="IsEmphasized" Value="true" />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>

    <Conversation Id="Conv_BloodTypeQuiz" Sentence="We need to identify the blood type. Are you ready?" ReadMoreUrl="http://learn.labster.com/index.php/Blodtype">
      <Options>
        <Option Sentence="Yes!">
          <Triggers>
            <Trigger>
              <Actions>
                <CompleteTask Target="Task_CheckBloodResult" />
                <CompleteTask Target="Task_BloodTypeQuizStarted" />
                <Wait Duration="0" />                
                <StartQuizBlock Target="QuizBlock_BloodTyping7_1">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="1" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_2">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="2" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_3">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="3" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_4">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="4" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_5">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="5" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_6">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="6" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_7">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="7" />
                  </Conditions>
                </StartQuizBlock>
                <StartQuizBlock Target="QuizBlock_BloodTyping7_8">
                  <Conditions>
                    <DataCondition Target="BloodTypeResult" Property="Amount" Value="8" />
                  </Conditions>
                </StartQuizBlock>
                <DestroyCursorElement />
                <RunScript ScriptId="CheckBackButtonForBloodQuiz" />
              </Actions>
            </Trigger>
          </Triggers>
        </Option>
        <Option Sentence="Wait a second. I need to look at the result again.">
          <Triggers>
            <Trigger>
              <Actions>
                <StartConversation ConversationSentence="Click on me, when you are ready to answer the question." />
                <!--<GotoState Target="AssistantLab" StateId="HasClickPrompt"/>-->
              </Actions>
            </Trigger>
          </Triggers>
        </Option>
      </Options>
    </Conversation>

    <!--<Quiz Id="Quiz_BloodTyping7_1"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+." IsCorrectAnswer="true"/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_A" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_2"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-." IsCorrectAnswer="true"/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_A" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_3"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+." IsCorrectAnswer="true"/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_B" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_4"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-." IsCorrectAnswer="true"/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_B" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_5"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+." IsCorrectAnswer="true"/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_AB" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_6"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-." IsCorrectAnswer="true"/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_AB" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_7"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+." IsCorrectAnswer="true"/>
        <Option Sentence="O Rh-."/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_O" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>

    <Quiz Id="Quiz_BloodTyping7_8"
          Sentence="Which blood type does our patient have?"
          ReadMoreUrl="http://learn.labster.com/index.php/Blodtype"
          CorrectMessage="Great! Let us go back to the hospital and tell the doctor, so that the patient can get a blood transfusion right away."
          WrongMessage="No, that is wrong Ð prease try again!"
          QuizGroup="QuizBloodTyping"
          RandomizeOptionOrder="false"
    >
      <Options>
        <Option Sentence="A Rh+."/>
        <Option Sentence="A Rh-."/>
        <Option Sentence="B Rh+."/>
        <Option Sentence="B Rh-."/>
        <Option Sentence="AB Rh+."/>
        <Option Sentence="AB Rh-."/>
        <Option Sentence="O Rh+."/>
        <Option Sentence="O Rh-." IsCorrectAnswer="true"/>
      </Options>
      <CorrectActions>
        <Wait Duration="0.5"/>
        <Setter Target="Blood_O" Property="IsVisible" Value="true"/>
        <Wait Duration="0.5"/>
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true"/>
        <Wait Duration="1"/>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed"/>
        <EndScript ScriptId="CheckBackButtonForBloodQuiz"/>
      </CorrectActions>
    </Quiz>-->

    <Conversation Id="Mission4_Completed" Sentence="Thank you so much for your quick and accurate work! The patient has now received a portion of blood with the correct blood type. He will definitely recover quickly! The maximum number of points you could have scored in this experiment was 50. \n\nYou can now continue with the other experiments, if you want to. You need to know that if you wish to perform this experiment again, you need to go back to the Dashboard, where you chose this laboratory, and click &quot;PLAY&quot; to restart the entire laboratory." ReadMoreUrl="http://learn.labster.com/index.php/Blodtype">
      <Triggers>
        <Trigger>
          <Actions>
            <EndGame />
            <!--<StartConversation Target="ConversationTheEnd_PopUp" ConversationId="Finished"/>-->
            <CompleteTask Target="Task_IdentifyBloodType" />
            <Setter Target="FinishWorkbench4" Property="Amount" Value="1" />
            <Wait Duration="0.5" />
            <!--<RunScript ScriptId="ResetWorkbenchClick" />-->
            <ZoomOut />
            <Wait Duration="0" />
            <ZoomOut />
            <StartConversation Target="Conversation_LabPad" ConversationId="Finished" />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>
    <Conversation Id="Finished" Sentence="Good work! You have completed the Biochemistry laboratory and learned about genotype determinations for sickle cell anemia, measured blood sugar after digestion of different types of food, diffusion and osmosis and performed a blood type determination test. \n\nIt would be a big help, if you would spend to minutes filling out a user survey. Your comments are very valuable to us. \n\nThank you in advance.">
      
    </Conversation>
    <Conversation Id="BackToTheLab" Sentence="Go back to the laboratory by clicling on the laboratory icon.">
      <Triggers>
        <Trigger>
          <Actions>
            <ShowScene SceneId="LabRoom" />
          </Actions>
        </Trigger>
      </Triggers>
    </Conversation>
  </Conversations>

  <QuizBlocks>
    <QuizBlock Id="QuizBlock_NoPipetteOnContainers" GUIDialogueId="Conversation_LabPad">
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_UsePipetteWithNoTip" GUIDialogueId="Conversation_LabPad">
    </QuizBlock>
      
    <QuizBlock Id="QuizBlock_BloodTyping1" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4d" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_1" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_A" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_2" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_A" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_3" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_B" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_4" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_B" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_5" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_AB" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_6" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_AB" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_7" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_O" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  
    <QuizBlock Id="QuizBlock_BloodTyping7_8" GUIDialogueId="Conversation_LabPad">
      <CompletedActions>
        <Wait Duration="0.5" />
        <Setter Target="Blood_O" Property="IsVisible" Value="true" />
        <Wait Duration="0.5" />
        <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />
        <Wait Duration="1" />
        <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
        <EndScript ScriptId="CheckBackButtonForBloodQuiz" />
      </CompletedActions>
    </QuizBlock>
  </QuizBlocks>

  <!-- Script are used to trigger actions with specific conditions -->
  <Scripts>
    <Script Id="ShareToFB">
      <Triggers>
        <Trigger>
          <Actions>
            <ShareToFacebook URL="http://www.labster.com/?ref=fb" Title="I have learned about security in the laboratory, acids and bases, diffusion and osmosis at Labster!" Target="_self" />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="HelperClick">
      <Triggers>
        <Trigger>
          <Conditions>
            <TaskCompleted Target="Task_EgelAnimationFinished" />
            <TaskNotCompleted Target="Task_FinalQuizFinished" />
          </Conditions>
          <Actions>
            <!-- Final Quiz -->
            <EndConversation Target="EventConversation" />
            <StartConversation Target="Conversation_LabPad" ConversationId="100" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="ClickAssistant1" Property="Amount" Value="1" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="Mission2b" />
            <EndConversation Target="EventConversation" />
            <GotoState Target="AssistantLab" StateId="NoClickPrompt" />
            <EndScript Save="true" />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="ClickAssistant1" Property="Amount" Value="2" />
            <TaskNotCompleted Target="Task_BloodTypeQuizStarted" />
          </Conditions>
          <Actions>

            <EndConversation Target="EventConversation" />
            <StartConversation Target="Conversation_LabPad" ConversationId="Conv_BloodTypeQuiz" />
            <GotoState Target="AssistantLab" StateId="NoClickPrompt" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="ClickAssistant1" Property="Amount" Value="3" />
          </Conditions>
          <Actions>
            <EndConversation Target="EventConversation" />
            <StartConversation Target="Conversation_LabPad" ConversationId="LabAstPCScreen1" />
            <GotoState Target="AssistantLab" StateId="NoClickPrompt" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Actions>
            <!-- In case no conditions above match -->
            <ShowLastConversation Target="EventConversation" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>

    <!--Pipette Quiz-->
    <Script Id="ClickBottleWithoutPipette">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="Task_ClickBottleWithoutPipette" Property="Amount" Value="1" />
          </Conditions>
          <Actions>
            <!--<StartConversation Target="Conversation_LabPad" ConversationId="Quiz_NoPipetteOnContainers" />-->
            <StartQuizBlock Target="QuizBlock_NoPipetteOnContainers" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="UsePipetteWithOutTip">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="Task_UsePipetteWithOutTip" Property="Amount" Value="1" />
          </Conditions>
          <Actions>
            <!--<StartConversation Target="Conversation_LabPad" ConversationId="Quiz_UsePipetteWithNoTip" />-->
            <StartQuizBlock Target="QuizBlock_UsePipetteWithNoTip" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>


    <!--Check Well-->
    <Script Id="CheckPCRProductSick">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductSick" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_AddPCRProductSick" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPCRProductCarrier">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductCarrier" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_AddPCRProductCarrier" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPCRProductHealthy">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductHealthy" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_AddPCRProductHealthy" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPCRProductChild">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductChild" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_AddPCRProductChild" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPCRProductMother">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductMother" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_AddPCRProductMother" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPCRProductFather">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductFather" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_AddPCRProductFather" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>

    <!--Egel Animation-->
    <Script Id="StartEGelMachine_step1">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductSick" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductSick" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="StartEGelMachine_step2" />
            <EndScript />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <GotoState Target="EGelMachine" StateId="EGelDefault" />
            <StartConversation Target="EventConversation" ConversationSentence="Add all 6 PCR products before you can start the E-gel machine." />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="StartEGelMachine_step2">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductCarrier" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductCarrier" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="StartEGelMachine_step3" />
            <EndScript />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <GotoState Target="EGelMachine" StateId="EGelDefault" />
            <StartConversation Target="EventConversation" ConversationSentence="Add all 6 PCR products before you can start the E-gel machine." />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="StartEGelMachine_step3">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductHealthy" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductHealthy" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="StartEGelMachine_step4" />
            <EndScript />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <GotoState Target="EGelMachine" StateId="EGelDefault" />
            <StartConversation Target="EventConversation" ConversationSentence="Add all 6 PCR products before you can start the E-gel machine." />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="StartEGelMachine_step4">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductChild" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductChild" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="StartEGelMachine_step5" />
            <EndScript />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <GotoState Target="EGelMachine" StateId="EGelDefault" />
            <StartConversation Target="EventConversation" ConversationSentence="Add all 6 PCR products before you can start the E-gel machine." />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="StartEGelMachine_step5">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductMother" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductMother" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="StartEGelMachine_step6" />
            <EndScript />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <GotoState Target="EGelMachine" StateId="EGelDefault" />
            <StartConversation Target="EventConversation" ConversationSentence="Add all 6 PCR products before you can start the E-gel machine." />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="StartEGelMachine_step6">
      <Triggers>
        <Trigger>
          <Conditions Match="Any">
            <!--<DataCondition Target="LabRoom" Property="Visit" Value="1"/>-->
            <!--FOR TESTING-->
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well1}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well2}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well3}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well4}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well5}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well6}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well7}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well8}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well9}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well10}" Comparison="Contains" Value="PCRProductFather" />
            <DataCondition Target="{Binding Contents.CurrentContentTypes, ElementId=Well11}" Comparison="Contains" Value="PCRProductFather" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_StartEGelMachine" />
            <EndConversation Target="EventConversation" />
            <ShowMedia Source="Labs/CSI/EGelAnimation_new" Title="E-Gel Animation" AllowSkip="true" AllowContinue="false" />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <GotoState Target="EGelMachine" StateId="EGelDefault" />
            <StartConversation Target="EventConversation" ConversationSentence="Add all 6 PCR products before you can start the E-gel machine." />
            <EndScript />
          </FailActions>
        </Trigger>
        <!-- Hide Helper messages -->
        <NotificationTrigger Notification="HideMessage">
          <Actions>
            <EndConversation Target="EventConversation" />
          </Actions>
        </NotificationTrigger>

        <!-- Helper Messages -->
        <NotificationTrigger Notification="ShowMessage" Parameter="Msg_1">
          <Actions>
            <!--<ControlMedia Action="Pause" />-->
            <StartConversation Target="SubtitleConversation" ConversationSentence="Gel electrophoresis is used toseparate DNA fragments of different sizes. In each well, there is a solution of DNA of different lengths." />
            <!--<Wait Notification="PopupClosed" />-->
            <!--<ControlMedia Action="Resume" />-->
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Msg_2">
          <Actions>
            <!--<ControlMedia Action="Pause" />-->
            <StartConversation Target="SubtitleConversation" ConversationSentence="DNA molecules are negatively charged, because the phosphate group in the spine of the DNA molecule is bound to a negatively charged oxygen group." />
            <!--<Wait Notification="PopupClosed" />-->
            <!--<ControlMedia Action="Resume" />-->
          </Actions>
        </NotificationTrigger>
        <!--TT-->
        <NotificationTrigger Notification="ShowMessage" Parameter="Msg_3">
          <Actions>
            <!--<ControlMedia Action="Pause" />-->
            <StartConversation Target="SubtitleConversation" ConversationSentence="Gel electrophoresis uses elekctricity to separate the different DNA sizes in a gel-like structure. DNA moves from the negative pole to the positive pole." />
            <!--<Wait Notification="PopupClosed" />-->
            <!--<ControlMedia Action="Resume" />-->
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Msg_4">
          <Actions>
            <!--<ControlMedia Action="Pause" />-->
            <StartConversation Target="SubtitleConversation" ConversationSentence="Small DNA fragments will lie bloser to the bottom of the gel compared to larger DNA fragments, because they can move easier through the pores in the gel." />
            <!--<Wait Notification="PopupClosed" />-->
            <!--<ControlMedia Action="Resume" />-->
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="AnimationEnded">
          <Actions>
            <DestroyCursorElement />
            <Setter Target="PlateCam" Property="IsFocusable" Value="true" />
            <Setter Target="PlateCam" Property="IsClickable" Value="true" />
            <MoveTo Element="PlateCam" />
            <CompleteTask Target="Task_EgelAnimationFinished" />
            <Wait Duration="1" />
            <GotoState Target="ResultScreenObj" StateId="ShowResultScreen" />
            <Wait Duration="2" />
            <EndConversation Target="SubtitleConversation" />
            <StartConversation Target="Conversation_LabPad" ConversationId="Quiz_Electrophoresis1" />

            <EndScript Save="true" />
          </Actions>
        </NotificationTrigger>
      </Triggers>

    </Script>

    <Script Id="TryAnotherFlask">
      <Triggers>
        <Trigger>
          <Conditions>
            <TaskCompleted Target="Task_WatchStrongAcidAnim" />
            <TaskCompleted Target="Task_WatchWeakAcidAnim" />
            <TaskCompleted Target="Task_WatchStrongBaseAnim" />
            <TaskCompleted Target="Task_WatchWeakBaseAnim" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <StartConversation Target="EventConversation" ConversationSentence="Great! You are now ready to continue with your next mission. Click on me, when you are ready!" />
            <Setter Target="ClickAssistant1" Property="Amount" Value="1" />
            <GotoState Target="AssistantLab" StateId="HasClickPrompt" />
            <EndScript />
          </Actions>
          <FailActions>
            <StartConversation Target="EventConversation" ConversationSentence="Good job! Place a new cup and choose a different flask to see the reaction." />
            <Setter Target="Beaker1" Property="EmphasizeForSeconds" Value="2" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="FlashTrashBinAndBeaker">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="FlashTrashBinAndBeaker_Running" Property="Amount" Value="0" />
          </Conditions>
          <Actions>
            <Setter Target="FlashTrashBinAndBeaker_Running" Property="Amount" Value="1" />
            <Setter Target="TrashbinFlattop1" Property="EmphasizeForSeconds" Value="1" />
            <RunScript ScriptId="FlashTrashBinAndBeaker_part2" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="FlashTrashBinAndBeaker_part2">
      <Triggers>
        <Trigger>
          <Actions>
            <Wait Duration="1" />
            <Setter Target="Beaker1" Property="EmphasizeForSeconds" Value="1" />
            <Setter Target="FlashTrashBinAndBeaker_Running" Property="Amount" Value="0" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPh7.4">
      <Triggers>
        <Trigger>
          <Conditions>
            <TaskNotCompleted Target="Task_GetPh7.4" />
            <DataCondition Target="BeakerPlaceholder" Property="CurrentElementContentsPH" Comparison="GreaterThanOrEqual" Value="7.38" />
            <DataCondition Target="BeakerPlaceholder" Property="CurrentElementContentsPH" Comparison="LessThan" Value="7.45" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <RunScript ScriptId="CheckPh7.4_part2" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <TaskCompleted Target="Task_GetPh7.4" />
          </Conditions>
          <Actions>
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckPh7.4_part2">
      <Triggers>
        <Trigger>
          <Conditions>
            <TaskNotCompleted Target="Task_GetPh7.4" />
            <DataCondition Target="BeakerPlaceholder" Property="CurrentElementContentsPH" Comparison="GreaterThanOrEqual" Value="7.38" />
            <DataCondition Target="BeakerPlaceholder" Property="CurrentElementContentsPH" Comparison="LessThan" Value="7.45" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_GetPh7.4" />
            <StartConversation Target="Conversation_LabPad" ConversationId="Mission2_Completed" />
            <EndScript />
          </Actions>
          <FailActions>
            <Wait Duration="0" />
            <RunScript ScriptId="CheckPh7.4" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="PlayBloodAnimation">
      <Triggers>
        <Trigger>
          <Actions>
            <Debug Target="PrevRedBloodState" Property="Amount" />
            <Debug Target="RedBloodState" Property="Amount" />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="PrevRedBloodState" Property="Amount" Value="0" />
          </Conditions>
          <Actions>
            <MoveTo Element="Microscope1Screen" />
            
            <EndConversation Target="SubtitleConversation" />
            <ShowMedia Source="Labs/Introductory/Blood_cells" AllowSkip="false" />
            <Wait Notification="MediaAnimationStarted" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="instant_shrink" />
            <RunScript ScriptId="PlayBloodAnimation_part2" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="PrevRedBloodState" Property="Amount" Value="1" />
          </Conditions>
          <Actions>
            <MoveTo Element="Microscope1Screen" />
            
            <EndConversation Target="SubtitleConversation" />
            <ShowMedia Source="Labs/Introductory/Blood_cells" AllowSkip="false" />
            <Wait Notification="MediaAnimationStarted" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="instant_normalize" />
            <RunScript ScriptId="PlayBloodAnimation_part2" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="PrevRedBloodState" Property="Amount" Value="2" />
          </Conditions>
          <Actions>
            <MoveTo Element="Microscope1Screen" />
            
            <EndConversation Target="SubtitleConversation" />
            <ShowMedia Source="Labs/Introductory/Blood_cells" AllowSkip="false" />
            <Wait Notification="MediaAnimationStarted" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="instant_expand" />
            <RunScript ScriptId="PlayBloodAnimation_part2" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="PrevRedBloodState" Property="Amount" Value="3" />
          </Conditions>
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The blood cells swelled so much that they exploded! You have to take some new samples from the incubator." />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="PlayBloodAnimation_part2">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="RedBloodState" Property="Amount" Value="0" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="shrink" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="Remember you need to experiment with both the hypertonic and the hypotonic solutions and observe how the cells either shrink or swell. After you have added both the hypertonic and hypotonic solutions, you ned to continue adding it to see what happens." />
            <Wait Duration="2" />
            <Setter Target="MediaCenter" Property="IsSkipButtonVisible" Value="true" />
            <Wait Notification="AnimationEnded" />
            <MoveTo Element="Workbench3_DiffusionOsmosis" />
            <EndConversation Target="SubtitleConversation" />
            
            <CompleteTask Target="Task_WatchBloodCellsShrink" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="RedBloodState" Property="Amount" Value="1" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="normalize" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="Remember you need to experiment with hypertonic og hypotonic solutions and observe how the cell shrinks, swells and explodes. Keep adding the hypertonic fluid, until they explode." />
            <Wait Duration="2" />
            <Setter Target="MediaCenter" Property="IsSkipButtonVisible" Value="true" />
            <Wait Notification="AnimationEnded" />
            <MoveTo Element="Workbench3_DiffusionOsmosis" />
            <EndConversation Target="SubtitleConversation" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="RedBloodState" Property="Amount" Value="2" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="expand" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="Remember you need to experiment with hypertonic og hypotonic solutions and observe how the cell shrinks, swells and explodes. Keep adding the hypertonic fluid, until they explode." />
            <Wait Duration="2" />
            <Setter Target="MediaCenter" Property="IsSkipButtonVisible" Value="true" />
            <Wait Notification="AnimationEnded" />
            <MoveTo Element="Workbench3_DiffusionOsmosis" />
            <EndConversation Target="SubtitleConversation" />
            
            <CompleteTask Target="Task_WatchBloodCellsExpand" />
            <EndScript />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions>
            <DataCondition Target="RedBloodState" Property="Amount" Value="3" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="explode" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="The red blood cells explode and die." />
            <Wait Duration="2" />
            <Setter Target="MediaCenter" Property="IsSkipButtonVisible" Value="true" />
            <Wait Notification="AnimationEnded" />
            <MoveTo Element="Workbench3_DiffusionOsmosis" />
            <EndConversation Target="SubtitleConversation" />
            
            <CompleteTask Target="Task_WatchBloodCellsExplode" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="WaitBloodCells">
      <Triggers>
        <Trigger>
          <Conditions>
            <TaskCompleted Target="Task_WatchBloodCellsShrink" />
            <TaskCompleted Target="Task_WatchBloodCellsExpand" />
            <TaskCompleted Target="Task_WatchBloodCellsExplode" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="Osmosis_Diabetes" />
            <DestroyCursorElement />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="PreCheckBloodResult">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA" Property="IsClickable" Value="false" />
            <DataCondition Target="AntiB" Property="IsClickable" Value="false" />
            <DataCondition Target="AntiD" Property="IsClickable" Value="false" />
            <DataCondition Target="Control" Property="IsClickable" Value="false" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_PreCheckBloodResult" />
            <StartConversation ConversationSentence="We have to wait a few minutes, until the blood sample is finished reacting in the test. \n\nClick here to continue." />
            <!--<Wait Notification="PopupClosed"/>
            <RunScript ScriptId="RevealBloodResult"/>
            <Wait Duration="0.5"/>
            <RunScript ScriptId="CheckBloodResult"/>-->
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="RevealBloodResult">
      <Triggers>
        <Trigger>
          <Actions>
            <CompleteTask Target="Task_RevealBloodResult" />
            <Setter Target="AntiA_Normal" Property="IsVisible" Value="false" />
            <Setter Target="AntiB_Normal" Property="IsVisible" Value="false" />
            <Setter Target="AntiD_Normal" Property="IsVisible" Value="false" />
            <Setter Target="Randomizer" Property="Amount" Value="RandomInt(0,1)" />
            <Setter Target="AntiA_Clotted" Property="IsVisible" Value="true">
              <Conditions>
                <DataCondition Target="Randomizer" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="AntiA_Normal" Property="IsVisible" Value="true">
              <Conditions>
                <DataCondition Target="Randomizer" Property="Amount" Value="1" />
              </Conditions>
            </Setter>
            <Setter Target="Randomizer" Property="Amount" Value="RandomInt(0,1)" />
            <Setter Target="AntiB_Clotted" Property="IsVisible" Value="true">
              <Conditions>
                <DataCondition Target="Randomizer" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="AntiB_Normal" Property="IsVisible" Value="true">
              <Conditions>
                <DataCondition Target="Randomizer" Property="Amount" Value="1" />
              </Conditions>
            </Setter>
            <Setter Target="Randomizer" Property="Amount" Value="RandomInt(0,1)" />
            <Setter Target="AntiD_Clotted" Property="IsVisible" Value="true">
              <Conditions>
                <DataCondition Target="Randomizer" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="AntiD_Normal" Property="IsVisible" Value="true">
              <Conditions>
                <DataCondition Target="Randomizer" Property="Amount" Value="1" />
              </Conditions>
            </Setter>
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckBloodResult">
      <Triggers>
        <!-- A+ -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_A" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="1" />
          </Actions>
        </Trigger>
        <!-- A- -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_A" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="2" />
          </Actions>
        </Trigger>
        <!-- B+ -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_B" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="3" />
          </Actions>
        </Trigger>
        <!-- B- -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_B" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="4" />
          </Actions>
        </Trigger>
        <!-- AB+ -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_AB" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="5" />
          </Actions>
        </Trigger>
        <!-- AB- -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_AB" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="6" />
          </Actions>
        </Trigger>
        <!-- O+ -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Clotted" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_O" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Positive" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="7" />
          </Actions>
        </Trigger>
        <!-- O- -->
        <Trigger>
          <Conditions>
            <DataCondition Target="AntiA_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiB_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="AntiD_Normal" Property="IsVisible" Value="true" />
            <DataCondition Target="Control_Normal" Property="IsVisible" Value="true" />
          </Conditions>
          <Actions>
            <!--<Setter Target="Blood_O" Property="IsVisible" Value="true" />
            <Setter Target="Rhesus_Negative" Property="IsVisible" Value="true" />-->
            <Setter Target="BloodTypeResult" Property="Amount" Value="8" />
          </Actions>
        </Trigger>

        <Trigger>
          <Actions>
            <!--<Setter Target="ClickAssistant1" Property="Amount" Value="2"/>
            <GotoState Target="AssistantLab" StateId="HasClickPrompt"/>-->
            <StartConversation ConversationSentence="Now we are going to identify the blood type. Analyze the result and click on me, when you are ready!" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckBackButtonForBloodQuiz">
      <Triggers>
        <Trigger>
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Spectacular work!" />
            <Wait Notification="ZoomedOut" />
            <EndConversation Target="Conversation_LabPad" />
            <EndConversation Target="EventConversation" />
            <MoveTo Element="BloodTestCard" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="AcidBaseAnimationMessages">
      <Triggers>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message03">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Strong acid consists of protons (H), shown as small grey circles and the conjugate base (A), shown as large black circles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message04">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Water consists of one oxygen atom, shown are large red circles, and two hydrogen atoms, shown as small grey circkles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message05">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="When the strong acid is dissolved in water, a reaction occurs. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message06">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The strong acid reacts completely in water. All protons (H^p+) are transferred from the acid to water and creates hydronium ions (H^b3O^p+).\nThis results in a high final concentration of hydronium ions in the solution. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message08">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Weak acid consists of protons (H), shown as small grey circles and the conjugate base (A), shown as large black circles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message09">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Water consists of one oxygen atom, shown are large red circles, and two hydrogen atoms, shown as small grey circkles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message10">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="When a weak acid is mixed with water, a reaction occurs. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message11">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The weak acid dissociates partially in water. A fraction of the protons (H^p+) are transferred from the acid to the warer, creating hydronium ions (H^b3O^p+). \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message12">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Most protons (H^p+) react back and forth between weak acid and water. The final concentration of hydronium ions (H^b3O^p+) is, therefore, lower than the strong acid. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message14">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Strong base consists of hydroxide ions (OH^p-), shown as small grey circles, and the conjugate acid (B), shown as large green circles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message15">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Water consists of one oxygen atom, shown are large red circles, and two hydrogen atoms, shown as small grey circkles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message16">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="When strong base is dissolved in water, a reaction occurs. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message17">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The strong base reacts completely in water to the conjugate acid (B^p+) and hydroxide ions  (OH^p-). The solutions, therefore, ends up with a high concentration of hydroxide ions (OH^p-). \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message19">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Weak acid is shown as large green circles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message20">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Water consists of one oxygen atom, shown are large red circles, and two hydrogen atoms, shown as small grey circkles. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message21">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="When a weak base is dissolved in water, a reaction occurs. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message22">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Weak base does not react completely to the conjugate acid (B^p+) and hydroxide ions (OH^p-). \n\Click here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
      </Triggers>
    </Script>
    <Script Id="PlayStrongAcidAnim">
      <Triggers>
        <Trigger>
          <Actions>
            <EndConversation Target="EventConversation" />
            <ShowMedia Source="introductory/Animation_acid_strong" ScriptToReplay="PlayStrongAcidAnim" Title="Strong Acid Animation" />
            <StartConversation Target="Popup_Title" ConversationSentence="Strong Acid Animation" />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions Match="Any">
            <TaskCompleted Target="Task_WatchStrongAcidAnim" />
            <TaskCompleted Target="Task_WatchWeakAcidAnim" />
            <TaskCompleted Target="Task_WatchStrongBaseAnim" />
            <TaskCompleted Target="Task_WatchWeakBaseAnim" />
          </Conditions>
          <Actions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="no_water" />
          </Actions>
          <FailActions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="water" />
          </FailActions>
        </Trigger>
        <Trigger>
          <Actions>
            <Wait Notification="AnimationEnded" />
            <EndConversation Target="Popup_Title" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="PlayWeakAcidAnim">
      <Triggers>
        <Trigger>
          <Actions>
            <EndConversation Target="EventConversation" />
            <ShowMedia Source="introductory/Animation_acid_weak" ScriptToReplay="PlayWeakAcidAnim" Title="Weak Acid Animation" />
            <StartConversation Target="Popup_Title" ConversationSentence="Weak Acid Animation" />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions Match="Any">
            <TaskCompleted Target="Task_WatchStrongAcidAnim" />
            <TaskCompleted Target="Task_WatchWeakAcidAnim" />
            <TaskCompleted Target="Task_WatchStrongBaseAnim" />
            <TaskCompleted Target="Task_WatchWeakBaseAnim" />
          </Conditions>
          <Actions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="no_water" />
          </Actions>
          <FailActions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="water" />
          </FailActions>
        </Trigger>
        <Trigger>
          <Actions>
            <Wait Notification="AnimationEnded" />
            <EndConversation Target="Popup_Title" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="PlayStrongBaseAnim">
      <Triggers>
        <Trigger>
          <Actions>
            <EndConversation Target="EventConversation" />
            <ShowMedia Source="introductory/Animation_base_strong" ScriptToReplay="PlayStrongBaseAnim" Title="Strong Base Animation" />
            <StartConversation Target="Popup_Title" ConversationSentence="Strong Base Animation" />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions Match="Any">
            <TaskCompleted Target="Task_WatchStrongAcidAnim" />
            <TaskCompleted Target="Task_WatchWeakAcidAnim" />
            <TaskCompleted Target="Task_WatchStrongBaseAnim" />
            <TaskCompleted Target="Task_WatchWeakBaseAnim" />
          </Conditions>
          <Actions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="no_water" />
          </Actions>
          <FailActions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="water" />
          </FailActions>
        </Trigger>
        <Trigger>
          <Actions>
            <Wait Notification="AnimationEnded" />
            <EndConversation Target="Popup_Title" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="PlayWeakBaseAnim">
      <Triggers>
        <Trigger>
          <Actions>
            <EndConversation Target="EventConversation" />
            <ShowMedia Source="introductory/Animation_base_weak" ScriptToReplay="PlayWeakBaseAnim" Title="Weak Base Animation" />
            <StartConversation Target="Popup_Title" ConversationSentence="Weak Base Animation" />
          </Actions>
        </Trigger>
        <Trigger>
          <Conditions Match="Any">
            <TaskCompleted Target="Task_WatchStrongAcidAnim" />
            <TaskCompleted Target="Task_WatchWeakAcidAnim" />
            <TaskCompleted Target="Task_WatchStrongBaseAnim" />
            <TaskCompleted Target="Task_WatchWeakBaseAnim" />
          </Conditions>
          <Actions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="no_water" />
          </Actions>
          <FailActions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="water" />
          </FailActions>
        </Trigger>
        <Trigger>
          <Actions>
            <Wait Notification="AnimationEnded" />
            <EndConversation Target="Popup_Title" />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>

    <Script Id="PlayPCRAnimation">
      <Triggers>

        <Trigger>
          <Actions>
            <ShowMedia Source="Labs/CSI/PCRAnimation" AllowSkip="true" AllowContinue="false" Title="PCR Animation" ScriptToReplay="ReplayPCRAnimation" />
            <EndConversation Target="EventConversation" />
            <EndConversation Target="SubtitleConversation" />

            <GotoState Target="PCR1" StateId="PCRMachineStopped" />
          </Actions>
        </Trigger>


        <!-- Hide Helper messages -->
        <NotificationTrigger Notification="HideMessage">
          <Actions>
            <EndConversation Target="EventConversation" />
          </Actions>
        </NotificationTrigger>

        <!-- Helper Messages -->
        <!-- Helper Messages -->
        <NotificationTrigger Notification="ShowMessage" Parameter="Message1">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="DNA denaturates and becomes single-stranded \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message2">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="Primers bind to the DNA, followed by the binding of the DNA polymerase. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message3">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="The polymerase is most active at 72^poC and copies the DNA. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message4">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="SubtitleConversation" ConversationSentence="At the end of the first cycle, you have no fragments of the correct length. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message5">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The DNA becomes single-stranded." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message6">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message7">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The active DNA polymerase copies the DNA." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message8">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="At the end of the second cycle, you have no fragments of the correct length." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message9">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The DNA becomes single-stranded." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message10">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message11">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The active DNA polymerase copies the DNA." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message12">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="At the end of the third cycle, you have the first 2 fragments of the correct length." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message13">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The DNA becomes single-stranded." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message14">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message15">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The active DNA polymerase copies the DNA." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message16">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message17">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="After 30 cycles, you will have 1,073,741,764 fragments!" />
          </Actions>
        </NotificationTrigger>


        <!-- Titles -->
        <NotificationTrigger Notification="ShowTitle" Parameter="Title1">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="PCR program initiated - heating machine" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title2">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title3">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title4">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C) " />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title5">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title6">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title7">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title8">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title9">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title10">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title11">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title12">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title13">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title14">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title15">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title16">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title17">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Program completed - storing at 4 °C" />
          </Actions>
        </NotificationTrigger>


        <!-- Whenever the animation ends, we end the script and hide the title -->
        <!-- <NotificationTrigger Notification="AnimationEnded" >
          <Actions>
            <EndConversation  Target="Popup_Title" />
            <EndScript />
          </Actions>
        </NotificationTrigger> -->

        <!-- If user did everything correctly, we start 'Round 2' Quizk mode -->
        <NotificationTrigger Notification="AnimationEnded">
          <Conditions>
            <TaskCompleted Target="Task_AddPurifiedDNA" />
            <TaskCompleted Target="Task_AddPrimers" />
            <TaskCompleted Target="Task_AddPolymerase" />
            <TaskCompleted Target="Task_AddNucleotides" />
          </Conditions>
          <Actions>
            <RunScript ScriptId="PlayPCRAnimation_Round2" />
            <EndConversation Target="Popup_Title" />
            <EndConversation Target="SubtitleConversation" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndConversation Target="Popup_Title" />
            <EndConversation Target="SubtitleConversation" />
            <EndScript />
          </FailActions>
        </NotificationTrigger>


      </Triggers>
    </Script>


    <Script Id="PlayPCRAnimation_Round2">
      <Triggers>

        <Trigger>
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Quiz Mode" />
            <StartConversation ConversationSentence="The Animation will now run again Ð with quiz questions. Be prepared to answer questions." />
            <Wait Duration="2" />
            <ShowMedia Source="Labs/CSI/PCRAnimation" AllowSkip="false" AllowContinue="false" Title="PCR Animation" ScriptToReplay="ReplayPCRAnimation" />
            <Wait Duration="5" />
            <EndConversation Target="EventConversation" />
          </Actions>
        </Trigger>


        <!-- Quizzes (During PCR animation Round 2) -->
        <NotificationTrigger Notification="ShowConversation" Parameter="Conversation1">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="Conversation_PopUpTransparant" ConversationId="Quiz_Animation_PCR1" />
          </Actions>
        </NotificationTrigger>

        <NotificationTrigger Notification="ShowConversation" Parameter="Conversation2">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="Conversation_PopUpTransparant" ConversationId="Quiz_Animation_PCR2" />
          </Actions>
        </NotificationTrigger>

        <NotificationTrigger Notification="ShowConversation" Parameter="Conversation3">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="Conversation_PopUpTransparant" ConversationId="Quiz_Animation_PCR3" />
          </Actions>
        </NotificationTrigger>

        <NotificationTrigger Notification="ShowConversation" Parameter="Conversation4">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="Conversation_PopUpTransparant" ConversationId="Quiz_Animation_PCR4" />
          </Actions>
        </NotificationTrigger>


        <NotificationTrigger Notification="ShowTitle" Parameter="Title8">
          <Actions>
            <ControlMedia Action="Pause" />
            <EndConversation Target="Popup_Title" />
            <StartConversation Target="Conversation_PopUpTransparant" ConversationId="PCRAniQuiz_Finished" />
          </Actions>
        </NotificationTrigger>


        <!-- Finished Animation -->
        <NotificationTrigger Notification="AnimationEnded">
          <Actions>
            <CompleteTask Target="Task_PCR_Process_Completed" />
            <!-- This will trigger an event, where the PCR products for the suspects are created -->
            <EndScript Save="true" />
          </Actions>
        </NotificationTrigger>


      </Triggers>
    </Script>

    <Script Id="ReplayPCRAnimation">
      <Triggers>

        <Trigger>
          <Actions>
            <ShowMedia Source="Labs/CSI/PCRAnimation" AllowSkip="true" AllowContinue="false" Title="PCR Animation" ScriptToReplay="ReplayPCRAnimation" />
            <EndConversation Target="EventConversation" />
          </Actions>
        </Trigger>


        <!-- Hide Helper messages -->
        <NotificationTrigger Notification="HideMessage">
          <Actions>
            <EndConversation Target="EventConversation" />
          </Actions>
        </NotificationTrigger>

        <!-- Helper Messages -->
        <NotificationTrigger Notification="ShowMessage" Parameter="Message1">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="EventConversation" ConversationSentence="DNA denaturates and becomes single-stranded \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message2">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="EventConversation" ConversationSentence="Primers bind to the DNA, followed by the binding of the DNA polymerase. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message3">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="EventConversation" ConversationSentence="The polymerase is most active at 72^poC and copies the DNA. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message4">
          <Actions>
            <ControlMedia Action="Pause" />
            <StartConversation Target="EventConversation" ConversationSentence="At the end of the first cycle, you have no fragments of the correct length. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message5">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The DNA becomes single-stranded." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message6">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message7">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The active DNA polymerase copies the DNA." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message8">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="At the end of the second cycle, you have no fragments of the correct length." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message9">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The DNA becomes single-stranded." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message10">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message11">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The active DNA polymerase copies the DNA." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message12">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="At the end of the third cycle, you have the first 2 fragments of the correct length." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message13">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The DNA becomes single-stranded." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message14">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message15">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="The active DNA polymerase copies the DNA." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message16">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="Primers bind to the template DNA and then the DNA polymerase can bind." />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message17">
          <Actions>
            <StartConversation Target="EventConversation" ConversationSentence="fter 30 cykluser vil du have 1.073.741.764 fragmenter!" />
          </Actions>
        </NotificationTrigger>
        <!-- Titles -->
        <NotificationTrigger Notification="ShowTitle" Parameter="Title1">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="PCR program initiated - heating machine" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title2">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title3">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title4">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title5">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title6">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title7">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title8">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title9">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title10">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title11">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title12">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title13">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title14">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Denaturation step (95 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title15">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Annealing step (54 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title16">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Extension step (72 °C)" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowTitle" Parameter="Title17">
          <Actions>
            <StartConversation Target="Popup_Title" ConversationSentence="Program completed - storing at 4 °C" />
          </Actions>
        </NotificationTrigger>
        <!-- Whenever the animation ends, we end the script and hide the title -->
        <NotificationTrigger Notification="AnimationEnded">
          <Actions>
            <EndConversation Target="Popup_Title" />
            <EndConversation Target="EventConversation" />
            <EndScript />
          </Actions>
        </NotificationTrigger>
      </Triggers>
    </Script>

    <Script Id="PlayRestrictionEnzymeAnimation">
      <Triggers>

        <Trigger>
          <Actions>
            <ShowMedia Source="Labs/BioKemi/RestrictionEnzyme_kvuc" AllowSkip="true" AllowContinue="false" Title="Restriction enzyme" />
            <EndConversation Target="EventConversation" />
            <EndConversation Target="SubtitleConversation" />
          </Actions>
        </Trigger>

        <!-- Hide Helper messages -->
        <NotificationTrigger Notification="HideMessage">
          <Actions>
            <EndConversation Target="SubtitleConversation" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message1">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="This animation will show you three restriction enzymes, which generate three different DNA-ends. Vi are using MSTII in out sickle cell analysis. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message2">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="MST2 recognizes the sequence, CCTNAGG, and cleaves between C-T. The ÔNÕ symbolizes, where the HBS can vary from the normal HBA by having a different nucleic acid. If this has been changed, the MST2 will no longer recognize the sequence and, thus, not split the chain. This form of restriction enzyme creates a sticky 5Õ-end. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message3">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="BgII recognizes the sequence, GCCNNNNNGGC, where the N can be any of the 4 bases. The split DNA chain will have a sticky 3Õ-end. \n\n Click here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message4">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="The final type of restriction enzyme creates a blunt end, where both chains are of equal length after being separated. Like BgII, Dpn1 hsd nothing to do with HBA. \n\nClick here to continue." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message5">
          <Actions>
            <StartConversation Target="SubtitleConversation" ConversationSentence="Because of this, there will essentially be three different types of ends, following the actions of the restriction enzymes: sticky 5Õ-ends, sticky 3Õ-ends, where one chain is longer than the other, and blunt ends, where the to chains are of equal length. The restriction enzyme, used in this experiment, creates 5Õ-ends." />
            <Wait Notification="PopupClosed" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>
        <NotificationTrigger Notification="ShowMessage" Parameter="Message6">
          <Actions>
            <ControlMedia Action="Resume" HasFrames="false"  EventName="resume" />
          </Actions>
        </NotificationTrigger>

        <NotificationTrigger Notification="AnimationEnded">
          <Actions>
            <CompleteTask Target="Task_RestrictionEnzymeAnimationFinished" />
            <!--<StartConversation Target="Conversation_Pop" ConversationId="Quiz_RestrictionEnzyme" />-->
            <StartConversation Target="Conversation_LabPad" ConversationId="Quiz_RestrictionEnzyme" />
            <EndConversation Target="SubtitleConversation" />
            <EndScript />

          </Actions>
        </NotificationTrigger>
      </Triggers>
    </Script>

    <Script Id="CheckFoodTypeGlucoseAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountGlucose" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="GlucoseState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="49.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="51" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountGlucose" />
            
            <!-- debug -->
            <CompleteTask Target="Task_SelectCorrectAmountSucrose" />
            <CompleteTask Target="Task_SelectCorrectAmountWhitebread" />
            <CompleteTask Target="Task_SelectCorrectAmountRyebread" />
            <CompleteTask Target="Task_SelectCorrectAmountBanana" />
            <CompleteTask Target="Task_SelectCorrectAmountCola" />
            <CompleteTask Target="Task_SelectCorrectAmountCarrot" />
            <CompleteTask Target="Task_SelectCorrectAmountIcecream" />
            <!-- end of debug -->
            
            <EndScript />
          </Actions>
          <FailActions>
            <RunScript ScriptId="CheckFoodTypeSucroseAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeSucroseAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountSucrose" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="SucroseState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="49.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="51" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountSucrose" />
            <EndScript />
          </Actions>
          <FailActions>
            <RunScript ScriptId="CheckFoodTypeWhitebreadAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeWhitebreadAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountWhitebread" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="WhitebreadState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="105.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="107" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountWhitebread" />
            <EndScript />
          </Actions>
          <FailActions>

            <RunScript ScriptId="CheckFoodTypeRyebreadAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeRyebreadAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountRyebread" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="RyebreadState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="127.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="129" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountRyebread" />
            <EndScript />
          </Actions>
          <FailActions>

            <RunScript ScriptId="CheckFoodTypeBananaAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeBananaAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountBanana" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="BananaState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="259.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="261" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountBanana" />
            <EndScript />
          </Actions>
          <FailActions>

            <RunScript ScriptId="CheckFoodTypeCarrotAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeCarrotAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountCarrot" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="CarrotState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="818.5" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="820" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountCarrot" />
            <EndScript />
          </Actions>
          <FailActions>

            <RunScript ScriptId="CheckFoodTypeColaAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeColaAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountCola" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="LabstercolaState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="499.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="501" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountCola" />
            <EndScript />
          </Actions>
          <FailActions>

            <RunScript ScriptId="CheckFoodTypeIcecreamAmount" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="CheckFoodTypeIcecreamAmount">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <!--<TaskNotCompleted Target="Task_SelectCorrectAmountIcecream" />-->
            <DataCondition Target="PC1" Property="ActiveStates" Comparison="Contains" Value="IcecreamState" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThanOrEqual" Value="207.9" />
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="209" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_SelectCorrectAmountIcecream" />
            <EndScript />
          </Actions>
          <FailActions>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountGlucose" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountSucrose" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountWhitebread" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountRyebread" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountBanana" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountCarrot" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountCola" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="Please add the plot, which shows a consumption of 50 g carbohydrate from all food substances.">
              <Conditions>
                <TaskNotCompleted Target="Task_SelectCorrectAmountIcecream" />
              </Conditions>
            </StartConversation>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>

    <Script Id="CheckAllFoodTypeAlreadyTried">
      <Triggers>
        <Trigger>
          <Conditions Match="All">
            <TaskCompleted Target="Task_SelectCorrectAmountGlucose" />
            <TaskCompleted Target="Task_SelectCorrectAmountSucrose" />
            <TaskCompleted Target="Task_SelectCorrectAmountWhitebread" />
            <TaskCompleted Target="Task_SelectCorrectAmountRyebread" />
            <TaskCompleted Target="Task_SelectCorrectAmountBanana" />
            <TaskCompleted Target="Task_SelectCorrectAmountCola" />
            <TaskCompleted Target="Task_SelectCorrectAmountCarrot" />
            <TaskCompleted Target="Task_SelectCorrectAmountIcecream" />
            <TaskNotCompleted Target="Task_SelectCorrectAmountAllType" />
          </Conditions>
          <Actions>
            <Wait Duration="1" />
            <!--<Setter Target="ClickAssistant1" Property="Amount" Value="3"/>
            <GotoState Target="AssistantLab" StateId="HasClickPrompt"/>-->
            <StartConversation ConversationSentence="Good job! You have now testet all of the food substances! Click on me to continue." />
            <CompleteTask Target="Task_SelectCorrectAmountAllType" />
            <EndScript />
          </Actions>
          <FailActions>
            <RunScript ScriptId="CheckQuizSugar" />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>

    <Script Id="CheckQuizSugar">
      <Triggers>
        <Trigger>
          <Conditions>
            <TaskCompleted Target="Task_SelectCorrectAmountGlucose" />
            <TaskCompleted Target="Task_SelectCorrectAmountSucrose" />
            <TaskNotCompleted Target="Task_QuizSugarFinished" />
          </Conditions>
          <Actions>
            <CompleteTask Target="Task_QuizSugarFinished" />
            <StartConversation Target="Conversation_LabPad" ConversationId="Quiz_Sugar" />
            <Wait Notification="PopupClosed" />
            <StartConversation ConversationSentence="You can now either change the amount of food in the simulation, or you can move on to the next food substance." />
            <EndScript />
          </Actions>
          <FailActions>
            <StartConversation ConversationSentence="You can now either change the amount of food in the simulation, or you can move on to the next food substance." />
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>

    <Script Id="DecreaseFoodContentAmount">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="GreaterThan" Value="1" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="-1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>

    <Script Id="IncreaseFoodContentAmountBanana">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="500" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountCarrot">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="1000" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountGlucose">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="150" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountSucrose">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="150" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountWhitebread">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="200" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountRyebread">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="200" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountCola">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="1000" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountIcecream">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="500" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="IncreaseFoodContentAmountComplete">
      <Triggers>
        <Trigger>
          <Conditions>
            <DataCondition Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Comparison="LessThan" Value="1000" />
          </Conditions>
          <Actions>
            <Setter Target="{Binding EngineRoot.Lookup.PCContainer.Contents.FoodContent}" Property="Amount" Adjustment="+1" />
            <EndScript />
          </Actions>
          <FailActions>
            <EndScript />
          </FailActions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="EnableAllBowlForSimulation">
      <Triggers>
        <Trigger>
          <Actions>
            <Setter Target="BowlLiquidGlucose" Property="IsClickable" Value="true" />
            <Setter Target="BowlBanana" Property="IsClickable" Value="true" />
            <Setter Target="BowlCarrot" Property="IsClickable" Value="true" />
            <Setter Target="BowlRyeBread" Property="IsClickable" Value="true" />
            <Setter Target="BowlSucrose" Property="IsClickable" Value="true" />
            <Setter Target="BowlWhiteBreads" Property="IsClickable" Value="true" />
            <Setter Target="CokeBottle" Property="IsClickable" Value="true" />
            <Setter Target="IceCreamBucket" Property="IsClickable" Value="true" />

            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
    <Script Id="ResetWorkbenchClick">
      <Triggers>
        <Trigger>
          <Actions>
            <ZoomOut />
            <Wait Duration="0" />
            <ZoomOut />
            <Setter Target="Workbench1_PCR" Property="IsClickable" Value="false" />
            <Setter Target="Workbench2_BloodSugar" Property="IsClickable" Value="false" />
            <Setter Target="Workbench3_DiffusionOsmosis" Property="IsClickable" Value="false" />
            <Setter Target="Workbench4_BloodType" Property="IsClickable" Value="false" />
            <Wait Duration="0.5" />
            <Setter Target="Workbench1_PCR" Property="IsClickable" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench1" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench2_BloodSugar" Property="IsClickable" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench2" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench3_DiffusionOsmosis" Property="IsClickable" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench3" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench4_BloodType" Property="IsClickable" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench4" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench1_PCR" Property="IsEmphasized" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench1" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench2_BloodSugar" Property="IsEmphasized" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench2" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench3_DiffusionOsmosis" Property="IsEmphasized" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench3" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <Setter Target="Workbench4_BloodType" Property="IsEmphasized" Value="true">
              <Conditions>
                <DataCondition Target="FinishWorkbench4" Property="Amount" Value="0" />
              </Conditions>
            </Setter>
            <StartConversation Target="Conversation_LabPad" ConversationId="Finished">
              <Conditions>
                <DataCondition Target="FinishWorkbench1" Property="Amount" Value="1" />
                <DataCondition Target="FinishWorkbench2" Property="Amount" Value="1" />
                <DataCondition Target="FinishWorkbench3" Property="Amount" Value="1" />
                <DataCondition Target="FinishWorkbench4" Property="Amount" Value="1" />
              </Conditions>
            </StartConversation>
            <EndConversation Target="EventConversation" />
            <Wait Duration="0" />
            <StartConversation ConversationSentence="You can continue with one of the other experiments, if you want. Press the &quot;BACK&quot; button and choose a different workbench to begin another experiment. You need to know that if you wish to repeat this experiment, you have to go back to the Dashboard, where you chose this laboratory, and press &quot;PLAY&quot; to restart the entire laboratory.">
              <Conditions>
                <DataCondition Target="FinishWorkbench1" Property="Amount" Value="0" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="You can continue with one of the other experiments, if you want. Press the &quot;BACK&quot; button and choose a different workbench to begin another experiment. You need to know that if you wish to repeat this experiment, you have to go back to the Dashboard, where you chose this laboratory, and press &quot;PLAY&quot; to restart the entire laboratory.">
              <Conditions>
                <DataCondition Target="FinishWorkbench2" Property="Amount" Value="0" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="You can continue with one of the other experiments, if you want. Press the &quot;BACK&quot; button and choose a different workbench to begin another experiment. You need to know that if you wish to repeat this experiment, you have to go back to the Dashboard, where you chose this laboratory, and press &quot;PLAY&quot; to restart the entire laboratory.">
              <Conditions>
                <DataCondition Target="FinishWorkbench3" Property="Amount" Value="0" />
              </Conditions>
            </StartConversation>
            <StartConversation ConversationSentence="You can continue with one of the other experiments, if you want. Press the &quot;BACK&quot; button and choose a different workbench to begin another experiment. You need to know that if you wish to repeat this experiment, you have to go back to the Dashboard, where you chose this laboratory, and press &quot;PLAY&quot; to restart the entire laboratory.">
              <Conditions>
                <DataCondition Target="FinishWorkbench4" Property="Amount" Value="0" />
              </Conditions>
            </StartConversation>
            <Wait Duration="0" />
            <Save />
            <EndScript />
          </Actions>
        </Trigger>
      </Triggers>
    </Script>
  </Scripts>

  <!-- Quest are the objective of your case  -->
  <Quests>
    <Quest Id="Quests_Checklist" MustStartInOrder="false" IsAutoSave="false">
      <!-- Missions will appear on the checklist -->
      <Missions>
        
        <Mission Id="MissionBloodTest" Title="Determine the patientÕs blood type" MustStartInOrder="false" IsAutoSave="false">
          <Tasks>
            <Task Id="Task_GetBackToTheLab" />
            <Task Id="Task_GoToWorkbench4" />
            <Task Id="Task_Workbench4Start" />
            <Task Id="Task_IdentifyBloodType" />
            <Task Id="Task_PreCheckBloodResult" />
            <Task Id="Task_RevealBloodResult" />
            <Task Id="Task_CheckBloodResult" />
            <Task Id="Task_BloodTypeQuizStarted" />
          </Tasks>
        </Mission>
      </Missions>
    </Quest>
  </Quests>

  <!-- Scene are the 3D world that you can interact with -->
  <Scenes>
    <Scene Id="LabRoom" AssetPath="Scenes/LabRoom">
      <!-- Scene can have triggers, which will do specific actions when the conditions match -->
      <Triggers>
        <!-- For example, this <EventTrigger> will fire when the scene is shown for the 1st time -->
        <EventTrigger Event="Shown">
          <Conditions>
            <DataCondition Property="Visit" Value="1" />
          </Conditions>
          <Actions>            
            <!--<CompleteTask Target="Task_Debug" />
            <Wait Duration="5" />
            <CompleteTask Target="Task_Debug" />-->
            <!--<RunScript ScriptId="WaitBloodCells"/>-->
            <StartConversation Target="Conversation_LabPad" ConversationId="WelcomeToLabster" />

            <!--Testing The Animation-->
            <!--<StartConversation Target="Conversation_LabPad" ConversationId="Verdict_Intro"/>-->


            <!--<ShowMedia Source="Labs/Introductory/Blood_cells2" AllowSkip="false" IsReplayable="false"/>-->
            <RunScript ScriptId="ClickBottleWithoutPipette" />
            <RunScript ScriptId="UsePipetteWithOutTip" />
            
            <!--<RunScript ScriptId="CheckPCRProductFather" />
            <RunScript ScriptId="CheckPCRProductMother" />
            <RunScript ScriptId="CheckPCRProductChild" />
            <RunScript ScriptId="CheckPCRProductHealthy" />
            <RunScript ScriptId="CheckPCRProductCarrier" />
            <RunScript ScriptId="CheckPCRProductSick" />-->
          
            <!-- debug -->
            <!--<Wait Duration="1" />
            <ShowMedia Source="Labs/Introductory/Blood_cells" />
            <Wait Notification="MediaAnimationStarted" />
            <ControlMedia Action="Resume" HasFrames="false"  EventName="instant_explode"/>-->
            <!--<Wait Duration="1" />
            <RunScript ScriptId="PlayRestrictionEnzymeAnimation" />-->
          </Actions>
        </EventTrigger>
        <EventTrigger Event="Shown">
          <Conditions>
            <DataCondition Property="Visit" Value="2" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="Mission4b" />
            <Setter Target="Workbench4_BloodType" Property="IsClickable" Value="true" />
            <Setter Target="Workbench3_DiffusionOsmosis" Property="IsClickable" Value="false" />
            <Setter Target="Workbench1_PCR" Property="IsClickable" Value="false" />
            <CompleteTask Target="Task_GetBackToTheLab" />
            <!--<CreateItem Target="{Binding CurrentElement, RelativeSource=RightHand}" ItemId="TestTubeWithBlood" />-->
            <Save />
          </Actions>
        </EventTrigger>
      </Triggers>

      <!--<Elements>
        <Element Id="HazardPoster" GameObjectId="deco_objects/Posters/Poster6" IsVisible="false" IsClickable="false">
        </Element>
      </Elements>-->

      <!-- Scene, UIELement, UIContainer, and UIPlaceholder can have Elements, in which we can declare UIElements, UIContainers, and UIPlaceholders -->
      <Elements>
        <Surface GameObjectId="Surface1">
          <Elements>

            <Element Id="Workbench1_PCR" Title="Workbench 1 - PCR and E-gel" GameObjectId="Table1" SourceId="Table1" Position="0.28,-1.219" Tooltip="Workbench 1 Ð PCR, E-gel" IsClickable="false" IsFocusable="false">
              
            </Element>
            <Element Id="Table1b" GameObjectId="Table1" SourceId="Table1" Position="0.28,5.14" IsClickable="false" Rotation="180" />
            <Element Id="Workbench3_DiffusionOsmosis" Title="Workbench 3 - Diffusion Osmosis" GameObjectId="Table2" SourceId="Table2" Position="3.02,0.13" Tooltip="Workbench 3 Ð diffusion and osmosis" IsClickable="false" IsFocusable="false">
              
            </Element>
            <Element Id="Workbench4_BloodType" Title="Workbench 4 - Blood Typing" GameObjectId="Table2b" SourceId="Table2" Position="3.02,3.80" Tooltip="Workbench 4 Ð blood type determination" IsFocusable="true" IsClickable="true">
              <Triggers>
                <EventTrigger Event="Click">
                  <Actions>
                    <Setter Target="Workbench1_PCR" Property="IsEmphasized" Value="false" />
                    <Setter Target="Workbench2_BloodSugar" Property="IsEmphasized" Value="false" />
                    <Setter Target="Workbench3_DiffusionOsmosis" Property="IsEmphasized" Value="false" />
                    <Setter Target="Workbench4_BloodType" Property="IsEmphasized" Value="false" />
                    <Setter Target="Workbench1_PCR" Property="IsClickable" Value="false" />
                    <Setter Target="Workbench2_BloodSugar" Property="IsClickable" Value="false" />
                    <Setter Target="Workbench3_DiffusionOsmosis" Property="IsClickable" Value="false" />
                  </Actions>
                </EventTrigger>
                <EventTrigger Event="Click">
                  <Conditions>
                    <TaskNotCompleted Target="Task_GoToWorkbench4" />
                  </Conditions>
                  <Actions>
                    <EndConversation Target="EventConversation" />
                    <CompleteTask Target="Task_GoToWorkbench4" />
                    <Setter Target="Workbench4_BloodType" Property="IsEmphasized" Value="false" />
                    <!--<StartConversation ConversationSentence="Use the Eldon stick to add a drop of blood to all four areas of the EldonCard."/>-->
                    <StartConversation ConversationSentence=" " />
                    <StartConversation Target="Conversation_LabPad" ConversationId="Mission4a" />
                    <Wait Duration="0" />
                    <Save />
                  </Actions>
                </EventTrigger>
                <EventTrigger Event="Click">
                  <Conditions>
                    <DataCondition Target="HospitalAccident" Property="Visit" Value="1" />
                    <TaskNotCompleted Target="Task_Workbench4Start" />
                  </Conditions>
                  <Actions>
                    <CompleteTask Target="Task_Workbench4Start" />
                    <StartConversation ConversationSentence="Use the Eldon stick to add a drop of blood to all four areas of the EldonCard." />
                  </Actions>
                </EventTrigger>

              </Triggers>
              <Elements>
                <Surface GameObjectId="Main">
                  <Elements>
                    <Placeholder Id="TrashbinFlattop3" Title="TrashBin" SourceId="TrashbinFlattop" GameObjectId="TrashbinFlattop3" Position="0.2952662,0.7222402" Rotation="-90" AcceptsItems="Beaker;AgarPlate;TestTube;EldonStickItem" PlaceholderBehaviour="Trash" Tooltip="Trash bin" ExtendedTooltip="Specielle skraldespande anvendes til biologisk affald. Bruges f.eks. til pipettespidser og falcon rør." />

                    <Element SourceId="RackTubes" GameObjectId="RackTubes1" Position="0.0720582,-0.08122277" Rotation="-90" IsClickable="true" Tooltip="Holder til Falcon rør" ExtendedTooltip="You can place Falcon tubes here." IsHighlightable="false">
                      <Elements>
                        <Placeholder Id="TestTubePlaceHolder" Title="TestTubeRack" GameObjectId="Placeholder1" AcceptsItems="TestTube" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder2" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder3" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder4" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder5" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder6" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder7" />
                        <Placeholder BasedOn="TestTubePlaceHolder" GameObjectId="Placeholder8" />
                      </Elements>
                    </Element>

                    <Element Id="BloodTestCard" Title="BloodTestCard" GameObjectId="BloodTestCard" SourceId="EldonCard" Position="0.01994467,-0.5290167" Rotation="-90" Tooltip="EldonCard" IsClickable="true" IsFocusable="true">
                      <Elements>
                        <Element Id="Blood_A" GameObjectId="Mesh/Scaler/Rhesus/A" IsClickable="false" IsVisible="false" />
                        <Element Id="Blood_B" GameObjectId="Mesh/Scaler/Rhesus/B" IsClickable="false" IsVisible="false" />
                        <Element Id="Blood_AB" GameObjectId="Mesh/Scaler/Rhesus/AB" IsClickable="false" IsVisible="false" />
                        <Element Id="Blood_O" GameObjectId="Mesh/Scaler/Rhesus/O" IsClickable="false" IsVisible="false" />
                        <Element Id="Rhesus_Positive" GameObjectId="Mesh/Scaler/Rhesus/Positive" IsClickable="false" IsVisible="false" />
                        <Element Id="Rhesus_Negative" GameObjectId="Mesh/Scaler/Rhesus/Negative" IsClickable="false" IsVisible="false" />

                        <Element Id="AntiA" Title="BloodTestCard.AntiA" GameObjectId="Mesh/Scaler/Anti-A" MaxAmount="2">
                          <Triggers>
                            <EventTrigger Event="Click">
                              <Conditions>
                                <DataCondition Target="{Binding CurrentElement, RelativeSource=RightHand}" Property="ItemId" Comparison="Equals" Value="EldonStickItem" />
                                <DataCondition Target="{Binding CurrentElement.Contents, RelativeSource=RightHand}" Property="CurrentContentTypes" Comparison="Contains" Value="RedBlood" />
                              </Conditions>
                              <Actions>
                                <Setter Target="AntiA_Normal" Property="IsVisible" Value="true" />
                                <Setter Property="IsClickable" Value="false" />
                                <ModifyContent Target="{Binding CurrentElement, RelativeSource=RightHand}" Mode="Clear" />
                                <PlaySound SoundId="ContentDrop" />
                                <RunScript ScriptId="PreCheckBloodResult" />
                              </Actions>
                            </EventTrigger>
                          </Triggers>
                          <Elements>
                            <Element Id="AntiA_Clotted" GameObjectId="Clotted" IsClickable="false" IsVisible="false" />
                            <Element Id="AntiA_Normal" GameObjectId="Blood" IsClickable="false" IsVisible="false" />
                          </Elements>
                        </Element>

                        <Element Id="AntiB" Title="BloodTestCard.AntiB" GameObjectId="Mesh/Scaler/Anti-B" MaxAmount="2">
                          <Triggers>
                            <EventTrigger Event="Click">
                              <Conditions>
                                <DataCondition Target="{Binding CurrentElement, RelativeSource=RightHand}" Property="ItemId" Comparison="Equals" Value="EldonStickItem" />
                                <DataCondition Target="{Binding CurrentElement.Contents, RelativeSource=RightHand}" Property="CurrentContentTypes" Comparison="Contains" Value="RedBlood" />
                              </Conditions>
                              <Actions>
                                <Setter Target="AntiB_Normal" Property="IsVisible" Value="true" />
                                <Setter Property="IsClickable" Value="false" />
                                <ModifyContent Target="{Binding CurrentElement, RelativeSource=RightHand}" Mode="Clear" />
                                <PlaySound SoundId="ContentDrop" />
                                <RunScript ScriptId="PreCheckBloodResult" />
                              </Actions>
                            </EventTrigger>
                          </Triggers>
                          <Elements>
                            <Element Id="AntiB_Clotted" GameObjectId="Clotted" IsClickable="false" IsVisible="false" />
                            <Element Id="AntiB_Normal" GameObjectId="Blood" IsClickable="false" IsVisible="false" />
                          </Elements>
                        </Element>

                        <Element Id="AntiD" Title="BloodTestCard.AntiD" GameObjectId="Mesh/Scaler/Anti-D" MaxAmount="2">
                          <Triggers>
                            <EventTrigger Event="Click">
                              <Conditions>
                                <DataCondition Target="{Binding CurrentElement, RelativeSource=RightHand}" Property="ItemId" Comparison="Equals" Value="EldonStickItem" />
                                <DataCondition Target="{Binding CurrentElement.Contents, RelativeSource=RightHand}" Property="CurrentContentTypes" Comparison="Contains" Value="RedBlood" />
                              </Conditions>
                              <Actions>
                                <Setter Target="AntiD_Normal" Property="IsVisible" Value="true" />
                                <Setter Property="IsClickable" Value="false" />
                                <ModifyContent Target="{Binding CurrentElement, RelativeSource=RightHand}" Mode="Clear" />
                                <PlaySound SoundId="ContentDrop" />
                                <RunScript ScriptId="PreCheckBloodResult" />
                              </Actions>
                            </EventTrigger>
                          </Triggers>
                          <Elements>
                            <Element Id="AntiD_Clotted" GameObjectId="Clotted" IsClickable="false" IsVisible="false" />
                            <Element Id="AntiD_Normal" GameObjectId="Blood" IsClickable="false" IsVisible="false" />
                          </Elements>
                        </Element>

                        <Element Id="Control" Title="BloodTestCard.Control" GameObjectId="Mesh/Scaler/Control" MaxAmount="2">
                          <Triggers>
                            <EventTrigger Event="Click">
                              <Conditions>
                                <DataCondition Target="{Binding CurrentElement, RelativeSource=RightHand}" Property="ItemId" Comparison="Equals" Value="EldonStickItem" />
                                <DataCondition Target="{Binding CurrentElement.Contents, RelativeSource=RightHand}" Property="CurrentContentTypes" Comparison="Contains" Value="RedBlood" />
                              </Conditions>
                              <Actions>
                                <Setter Target="Control_Normal" Property="IsVisible" Value="true" />
                                <Setter Property="IsClickable" Value="false" />
                                <ModifyContent Target="{Binding CurrentElement, RelativeSource=RightHand}" Mode="Clear" />
                                <PlaySound SoundId="ContentDrop" />
                                <RunScript ScriptId="PreCheckBloodResult" />
                              </Actions>
                            </EventTrigger>
                          </Triggers>
                          <Elements>
                            <Element Id="Control_Clotted" GameObjectId="Clotted" IsClickable="false" IsVisible="false" />
                            <Element Id="Control_Normal" GameObjectId="Blood" IsClickable="false" IsVisible="false" />
                          </Elements>
                        </Element>

                      </Elements>
                    </Element>

                    <Element Id="EldonStick" Title="EldonStick" GameObjectId="EldonStick" SourceId="EldonStick" Position="-0.1910956,-0.07335806" Rotation="-90" Tooltip="Eldonstick" IsClickable="true">
                      <Click>
                        <AnimateHandTo />
                        <CreateItem Target="{Binding RelativeSource=RightHand}" ItemId="EldonStickItem" />
                        <AnimateHandTo IsReverse="true" />
                      </Click>
                    </Element>

                    <Element GameObjectId="sticker" SourceId="BiohazardStickerTableFrame4" Position="0.5439208,-1.682084" Rotation="90" IsClickable="false" />
                    <Element GameObjectId="sticker_wall" SourceId="BiohazardSignRectangular" Position="0.4973843,0.3927481" Rotation="-90" IsClickable="false" />
                  </Elements>
                </Surface>
              </Elements>
            </Element>
            <Element Id="Table3a" GameObjectId="Table3" SourceId="Table3" Position="1.27,1.48" IsClickable="false">
              <Elements>
                <Surface GameObjectId="Main">

                </Surface>
              </Elements>
            </Element>
            <Element Id="Workbench2_BloodSugar" Title="Workbench 2 - Blood Sugar" GameObjectId="Workbench2_BloodSugar" SourceId="Table3" Position="1.27,2.45" Tooltip="Workbench 2 Ð Blood sugar" IsClickable="false" IsFocusable="false" Rotation="180">
              
            </Element>
            <Element Id="Table4a" GameObjectId="Table4" SourceId="Table4" Position="0.006,1.96" Tooltip="Workbench 3" IsClickable="false" IsFocusable="true">
              <Elements>
                <Surface GameObjectId="Main">

                </Surface>
              </Elements>
            </Element>
            <Element Id="ShelfLong1" GameObjectId="ShelfLong" SourceId="ShelfLong" Position="1.7897,2.454" IsClickable="false" />
            <Element Id="ShelfLong2" GameObjectId="ShelfLong" SourceId="ShelfLong" Position="1.7897,1.538" IsClickable="false" Rotation="180" />

            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="2.667,-1.786" IsClickable="false" />
            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="1.667,-1.786" IsClickable="false" />
            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="0.667,-1.786" IsClickable="false" />
            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="-0.333,-1.786" IsClickable="false" />
            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="-1.333,-1.786" IsClickable="false" />

            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="3.875,0.258" Rotation="-90" IsClickable="false" />
            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="3.875,1.261" Rotation="-90" IsClickable="false" />

            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="3.875,3.885" Rotation="-90" IsClickable="false" />
            <Element GameObjectId="C1_LOD0" SourceId="Cabinet" Position="3.875,4.888" Rotation="-90" IsClickable="false" />

            <Element GameObjectId="ShelfLabCoat" SourceId="ShelfLabCoat" Position="-2.54,-1.06" Rotation="0" IsClickable="false" />

            <Element GameObjectId="TrashBinBig" SourceId="TrashBinBig" Position="-0.42,2.72" IsClickable="false" />
          </Elements>
        </Surface>
      </Elements>
    </Scene>
    <Scene Id="HospitalAccident" AssetPath="Labs/Introductory/HospitalAccident" Title="Hospital Scene" AmbientLight="0.2,0.2,0.2,1">
      <Triggers>
        <EventTrigger Event="Shown">
          <Conditions>
            <DataCondition Property="Visit" Value="1" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="Hospital_1" />
            <Save />
          </Actions>
        </EventTrigger>
        <EventTrigger Event="Shown">
          <Conditions>
            <DataCondition Property="Visit" Value="2" />
          </Conditions>
          <Actions>
            <StartConversation Target="Conversation_LabPad" ConversationId="Mission4_Completed" />
          </Actions>
        </EventTrigger>
      </Triggers>
      <Elements>
        <Element Id="Patient" Title="Character.Patient" GameObjectId="MalePatient" IsFocusable="true">
          <Elements>
            <Element GameObjectId="InjectPoint" Title="Character.Patient">
              <Triggers>
                <EventTrigger Event="Click">
                  <Conditions>
                    <DataCondition Target="{Binding CurrentElement, RelativeSource=RightHand}" Property="ItemId" Value="Vacutainer" />
                  </Conditions>
                  <Actions>
                    <DestroyCursorElement />
                    <Wait Duration="0.5" />
                    <CreateItem Target="{Binding RelativeSource=RightHand}" ItemId="TestTubeWithBlood" NewId="TestTubeWithBlood1" />
                    <Setter Property="IsClickable" Value="false" />
                    <Wait Duration="0.5" />
                    <StartConversation Target="Conversation_LabPad" ConversationId="BackToTheLab" />
                  </Actions>
                </EventTrigger>
                
                <EventTrigger Event="Click">
                  <Conditions>
                    <DataCondition Target="{Binding CurrentElement, RelativeSource=RightHand}" Property="ItemId" Value="EthanolBottle" />
                  </Conditions>
                  <Actions>
                    <StartConversation ConversationSentence="Take the blood test glass and click on the patientÕs arm to take his blood sample." />
                    <DestroyCursorElement />
                    <Wait Duration="0.5" />
                    <CreateItem Target="{Binding RelativeSource=RightHand}" ItemId="Vacutainer" />
                  </Actions>
                </EventTrigger>

              </Triggers>
            </Element>
          </Elements>
        </Element>
      </Elements>
    </Scene>
  </Scenes>
</Engine>





